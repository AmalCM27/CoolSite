!function(e){"use strict";function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){u=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw i}}return a}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new x(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return I()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var u=w(o,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p={};function h(){}function v(){}function d(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==t&&r.call(y,i)&&(m=y);var b=d.prototype=h.prototype=Object.create(m);function T(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==f(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(p).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=d,s(b,"constructor",d),s(d,"constructor",v),v.displayName=s(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},T(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new k(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(b),s(b,u,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function h(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{s(n.next(e))}catch(e){a(e)}}function u(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,u)}s((n=n.apply(e,t||[])).next())}))}var v={};var d="object"===("undefined"==typeof globalThis?"undefined":f(globalThis))?globalThis:"object"===("undefined"==typeof window?"undefined":f(window))?window:"object"===("undefined"==typeof global?"undefined":f(global))?global:"object"===("undefined"==typeof self?"undefined":f(self))?self:v,m=d.console,g=d.document,y=d.navigator,b=d.performance,T=d.addEventListener,k=d.removeEventListener,w=g.addEventListener,S=g.removeEventListener,E=d.XMLHttpRequest,x=function(){return null==y?void 0:y.deviceMemory},A=function(){return null==y?void 0:y.hardwareConcurrency},I=[null,"null",void 0,"undefined",""],M=["localhost","127.0.0.1"],_=["modelo.io","coohom.com"],C="<anonymous>",R="__ktr_block_error__",O="__ktr_wrapped__",P="__ktr_original__",F="KTR_HACK_META",L=["SCRIPT","LINK","IMG"],N="qunhe-monitor-ktracker-index",D="KTR_SAMPLE_SEED",j="KTR_VISIT_SESSION",z=["defaulttag","defualttag"],B="pub-meta",q=["gray"],U=/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/i,H=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,K=/^\.([a-z|A-Z|0-9]+)/,Q=3e5,G=1048576e3,V=/^(192\.168\.|169\.254\.|10\.|127\.|172\.(1[6-9]|2\d|3[01]))/,W=new RegExp("(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}"),$=["headlesschrome","360spider","baiduspider","googlebot","sogou web spider","sogou inst spider","sogou spider","sogou wap spider","bytespider","bingbot","bingpreview","msnbot","yisouspider"],J=["pybellheadlesschrome"],X=["name","message","stack"],Y=["actionstat.qunhequnhe.com","actionstat.kujiale.com","actionstat.coohom.com","actiontrack.qunhequnhe.com","actiontrack.kujiale.com","actiontrack.coohom.com","mc.qunhequnhe.com","mc.kujiale.com","mc.coohom.com","api.growingio.com","mixpanel.com","qhtbdoss.kujiale.com","qhyxpicoss.kujiale.com","spriteoss.kujiale.com","sse.kujiale.com","qiyukf.com","qiyukf.nosdn.127.net","segment.io","segment.com","51.la","google-analytics.com","googletagmanager.com","googlesyndication.com","baidu.com","ysf.nosdn.127.net","js.hs-analytics.net","facebook.net","twitter.com","bing.com","stats.g.doubleclick.net","scripts.hashemian.com","api.ipify.org","api.ip.sb","ip-api.com"],Z=/\/ktracker.min.js$/,ee=[Z,/\/m.pop$/,/\/kio([\s\S]*)js$/,/gio.js$/,"/api/login/status","/d/api/session","/notify/api/common","/deco/api/subscribe"],te=function(){};function re(e){return Promise.resolve(e)}var ne,ie=["Possible side-effect in debug-evaluate","ResizeObserver loop limit exceeded"],ae={name:"Error",message:"",stack:[],originStack:""},oe="pn",ue="ps",se="pv";!function(e){e.Err="error",e.Beh="behavior",e.Rou="route",e.Biz="business",e.Nav="navigation",e.Res="resource",e.Http="http",e.Mea="measure"}(ne||(ne={}));var ce,le="AJAX_ERROR",fe="JS_ERROR",pe="consoleError",he="runtimeError",ve="unhandledrejection",de="wrap",me="resourceError",ge="fp",ye="fcp",be="lcp",Te="inp",ke="fid",we="cls",Se="longtask",Ee="tbt",xe="element",Ae="userMarker",Ie="ready",Me="hunterid",_e="content-type",Ce="content-length",Re="date",Oe="x-qunhe-bizcode",Pe="x-qunhe-bizmessage",Fe="requestid",Le="c",Ne="m";!function(e){e.Num="Number",e.Str="String",e.Bool="Boolean",e.Obj="Object",e.Arr="Array",e.InvErr="Script error.",e.FormData="FormData"}(ce||(ce={}));var De,je=100,ze=500,Be=1e3,qe="https://mc.kujiale.com:8880",Ue="https://mc.coohom.com";!function(e){e.ExErr="__EXCLUDE_ERROR__",e.ExApi="__EXCLUDE_API__",e.ExApiErr="__EXCLUDE_API_ERROR__",e.AppRoute="__APP_ROUTE__"}(De||(De={}));var He={visit:"visitSample",longTask:"longTaskSample"},Ke="hackMetric",Qe="element";function Ge(e){var t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.start,u=void 0!==o&&o,s=a.middle,c=void 0===s||s,l=a.once,f=void 0!==l&&l,p=0,h=!1;function v(){for(var a=this,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];if(r=this,n=s,!h){var d=Date.now()-p;p=Date.now(),u?(u=!1,e.apply(this,s),f&&v.cancel()):(c&&d<i||!c)&&(clearTimeout(t),t=setTimeout((function(){p=Date.now(),e.apply(a,s),f&&v.cancel()}),c?i-d:i))}}return v.cancel=function(){clearTimeout(t),h=!0},v.flush=function(){clearTimeout(t),e.apply(r,n)},v}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.start,i=void 0!==n&&n,a=r.middle,o=void 0!==a&&a,u=r.once,s=void 0!==u&&u;return Ge(e,t,{start:i,middle:o,once:s})}var We={},$e=Uint8Array,Je=Uint16Array,Xe=Uint32Array,Ye=new $e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ze=new $e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),et=new $e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tt=function(e,t){for(var r=new Je(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new Xe(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},rt=tt(Ye,2),nt=rt[0],it=rt[1];nt[28]=258,it[258]=28;for(var at=tt(Ze,0)[1],ot=new Je(32768),ut=0;ut<32768;++ut){var st=(43690&ut)>>>1|(21845&ut)<<1;st=(61680&(st=(52428&st)>>>2|(13107&st)<<2))>>>4|(3855&st)<<4,ot[ut]=((65280&st)>>>8|(255&st)<<8)>>>1}var ct=function(e,t,r){for(var n=e.length,i=0,a=new Je(t);i<n;++i)e[i]&&++a[e[i]-1];var o,u=new Je(t);for(i=0;i<t;++i)u[i]=u[i-1]+a[i-1]<<1;if(r){o=new Je(1<<t);var s=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],l=t-e[i],f=u[e[i]-1]++<<l,p=f|(1<<l)-1;f<=p;++f)o[ot[f]>>>s]=c}else for(o=new Je(n),i=0;i<n;++i)e[i]&&(o[i]=ot[u[e[i]-1]++]>>>15-e[i]);return o},lt=new $e(288);for(ut=0;ut<144;++ut)lt[ut]=8;for(ut=144;ut<256;++ut)lt[ut]=9;for(ut=256;ut<280;++ut)lt[ut]=7;for(ut=280;ut<288;++ut)lt[ut]=8;var ft=new $e(32);for(ut=0;ut<32;++ut)ft[ut]=5;var pt=ct(lt,9,0),ht=ct(ft,5,0),vt=function(e){return(e+7)/8|0},dt=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?Je:4==e.BYTES_PER_ELEMENT?Xe:$e)(r-t);return n.set(e.subarray(t,r)),n},mt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gt=function e(t,r,n){var i=new Error(r||mt[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,e),!n)throw i;return i},yt=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},bt=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Tt=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[It,0];if(1==i){var o=new $e(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var u=r[0],s=r[1],c=0,l=1,f=2;for(r[0]={s:-1,f:u.f+s.f,l:u,r:s};l!=i-1;)u=r[r[c].f<r[f].f?c++:f++],s=r[c!=l&&r[c].f<r[f].f?c++:f++],r[l++]={s:-1,f:u.f+s.f,l:u,r:s};var p=a[0].s;for(n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new Je(p+1),v=kt(r[l-1],h,0);if(v>t){n=0;var d=0,m=v-t,g=1<<m;for(a.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));n<i;++n){var y=a[n].s;if(!(h[y]>t))break;d+=g-(1<<v-h[y]),h[y]=t}for(d>>>=m;d>0;){var b=a[n].s;h[b]<t?d-=1<<t-h[b]++-1:++n}for(;n>=0&&d;--n){var T=a[n].s;h[T]==t&&(--h[T],++d)}v=t}return[new $e(h),v]},kt=function e(t,r,n){return-1==t.s?Math.max(e(t.l,r,n+1),e(t.r,r,n+1)):r[t.s]=n},wt=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Je(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},u=1;u<=t;++u)if(e[u]==i&&u!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[u]}return[r.subarray(0,n),t]},St=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Et=function(e,t,r){var n=r.length,i=vt(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},xt=function(e,t,r,n,i,a,o,u,s,c,l){yt(t,l++,r),++i[256];for(var f=Tt(i,15),p=f[0],h=f[1],v=Tt(a,15),d=v[0],m=v[1],g=wt(p),y=g[0],b=g[1],T=wt(d),k=T[0],w=T[1],S=new Je(19),E=0;E<y.length;++E)S[31&y[E]]++;for(E=0;E<k.length;++E)S[31&k[E]]++;for(var x=Tt(S,7),A=x[0],I=x[1],M=19;M>4&&!A[et[M-1]];--M);var _,C,R,O,P=c+5<<3,F=St(i,lt)+St(a,ft)+o,L=St(i,p)+St(a,d)+o+14+3*M+St(S,A)+(2*S[16]+3*S[17]+7*S[18]);if(P<=F&&P<=L)return Et(t,l,e.subarray(s,s+c));if(yt(t,l,1+(L<F)),l+=2,L<F){_=ct(p,h,0),C=p,R=ct(d,m,0),O=d;var N=ct(A,I,0);yt(t,l,b-257),yt(t,l+5,w-1),yt(t,l+10,M-4),l+=14;for(E=0;E<M;++E)yt(t,l+3*E,A[et[E]]);l+=3*M;for(var D=[y,k],j=0;j<2;++j){var z=D[j];for(E=0;E<z.length;++E){var B=31&z[E];yt(t,l,N[B]),l+=A[B],B>15&&(yt(t,l,z[E]>>>5&127),l+=z[E]>>>12)}}}else _=pt,C=lt,R=ht,O=ft;for(E=0;E<u;++E)if(n[E]>255){B=n[E]>>>18&31;bt(t,l,_[B+257]),l+=C[B+257],B>7&&(yt(t,l,n[E]>>>23&31),l+=Ye[B]);var q=31&n[E];bt(t,l,R[q]),l+=O[q],q>3&&(bt(t,l,n[E]>>>5&8191),l+=Ze[q])}else bt(t,l,_[n[E]]),l+=C[n[E]];return bt(t,l,_[256]),l+C[256]},At=new Xe([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),It=new $e(0),Mt=function(e,t,r,n,i,a){var o=e.length,u=new $e(n+o+5*(1+Math.ceil(o/7e3))+i),s=u.subarray(n,u.length-i),c=0;if(!t||o<8)for(var l=0;l<=o;l+=65535){var f=l+65535;f>=o&&(s[c>>3]=a),c=Et(s,c+1,e.subarray(l,f))}else{for(var p=At[t-1],h=p>>>13,v=8191&p,d=(1<<r)-1,m=new Je(32768),g=new Je(d+1),y=Math.ceil(r/3),b=2*y,T=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&d},k=new Xe(25e3),w=new Je(288),S=new Je(32),E=0,x=0,A=(l=0,0),I=0,M=0;l<o;++l){var _=T(l),C=32767&l,R=g[_];if(m[C]=R,g[_]=C,I<=l){var O=o-l;if((E>7e3||A>24576)&&O>423){c=xt(e,s,0,k,w,S,x,A,M,l-M,c),A=E=x=0,M=l;for(var P=0;P<286;++P)w[P]=0;for(P=0;P<30;++P)S[P]=0}var F=2,L=0,N=v,D=C-R&32767;if(O>2&&_==T(l-D))for(var j=Math.min(h,O)-1,z=Math.min(32767,l),B=Math.min(258,O);D<=z&&--N&&C!=R;){if(e[l+F]==e[l+F-D]){for(var q=0;q<B&&e[l+q]==e[l+q-D];++q);if(q>F){if(F=q,L=D,q>j)break;var U=Math.min(D,q-2),H=0;for(P=0;P<U;++P){var K=l-D+P+32768&32767,Q=K-m[K]+32768&32767;Q>H&&(H=Q,R=K)}}}D+=(C=R)-(R=m[C])+32768&32767}if(L){k[A++]=268435456|it[F]<<18|at[L];var G=31&it[F],V=31&at[L];x+=Ye[G]+Ze[V],++w[257+G],++S[V],I=l+F,++E}else k[A++]=e[l],++w[e[l]]}}c=xt(e,s,a,k,w,S,x,A,M,l-M,c),!a&&7&c&&(c=Et(s,c+1,It))}return dt(u,0,n+vt(c)+i)},_t=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}return e}(),Ct=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=_t[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},Rt=function(e,t,r,n,i){return Mt(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},Ot=function(e,t,r){for(var n=e(),i=e.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<n.length;++o){var u=n[o],s=a[o];if("function"==typeof u){t+=";"+s+"=";var c=u.toString();if(u.prototype)if(-1!=c.indexOf("[native code]")){var l=c.indexOf(" ",8)+1;t+=c.slice(l,c.indexOf("(",l))}else for(var f in t+=c,u.prototype)t+=";"+s+".prototype."+f+"="+u.prototype[f].toString();else t+=c}else r[s]=u}return[t,r]},Pt=[],Ft=function(e,t,r,n){var i;if(!Pt[r]){for(var a="",o={},u=e.length-1,s=0;s<u;++s)a=(i=Ot(e[s],a,o))[0],o=i[1];Pt[r]=Ot(e[u],a,o)}var c=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}({},Pt[r][1]);return function(e,t,r,n,i){var a=new Worker(We[t]||(We[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(e){var t=e.data,r=t.$e$;if(r){var n=new Error(r[0]);n.code=r[1],n.stack=r[2],i(n,null)}else i(null,t)},a.postMessage(r,n),a}(Pt[r][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,c,function(e){var t=[];for(var r in e)e[r].buffer&&t.push((e[r]=new e[r].constructor(e[r])).buffer);return t}(c),n)},Lt=function(){return[$e,Je,Xe,Ye,Ze,et,it,at,pt,lt,ht,ft,ot,At,It,ct,yt,bt,Tt,kt,wt,St,Et,xt,vt,dt,Mt,Rt,qt,Dt]},Nt=function(){return[zt,Bt,jt,Ct,_t]},Dt=function(e){return postMessage(e,[e.buffer])},jt=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},zt=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&jt(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},Bt=function(e){return 10+(e.filename&&e.filename.length+1||0)};function qt(e,t){return Rt(e,t||{},0,0)}function Ut(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&gt(7),function(e,t,r,n,i,a){var o=Ft(r,n,i,(function(e,t){o.terminate(),a(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}}(e,t,[Lt,Nt,function(){return[Ht]}],(function(e){return Dt(Ht(e.data[0],e.data[1]))}),2,r)}function Ht(e,t){t||(t={});var r=Ct(),n=e.length;r.p(e);var i=Rt(e,t,Bt(t),8),a=i.length;return zt(i,t),jt(i,a-8,r.d()),jt(i,a-4,n),i}var Kt="undefined"!=typeof TextEncoder&&new TextEncoder,Qt="undefined"!=typeof TextDecoder&&new TextDecoder;try{Qt.decode(It,{stream:!0}),1}catch(e){}function Gt(e,t,r){try{if(!(t in e))return function(){};var n=e[t],i=r(n);if(nr(i))try{ur(i,n)}catch(e){}return e[t]=i,function(){e[t]=n}}catch(e){return function(){}}}function Vt(e){var t=parseFloat(e);return t==t&&ir([t,String(t)],e)}function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $t(e,t){try{return e instanceof t}catch(e){return!1}}function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={defaultValue:e,replacer:null,space:void 0},n=l(r,t),i=n.defaultValue,a=n.replacer,o=n.space;try{var u=JSON.stringify(e,a,o);return tr(u)?i:u}catch(e){return i}}function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zt(e,ce.Str)?e:Jt(e,t)}function Yt(e){return Object.prototype.toString.call(e).slice(8,-1)}function Zt(e,t){return Yt(e)===t}function er(e){return e&&"object"===f(e)&&Object.keys(e).length>0}function tr(e){return ir([null,void 0],e)}function rr(e){return Zt(e,ce.Arr)&&e.length>0}function nr(e){return"function"==typeof e}function ir(e,t){return e.indexOf(t)>-1}function ar(e,t){var r=l({},e);if(Zt(t,ce.Arr))for(var n=0,i=t.length;n<i;n+=1){delete r[t[n]]}if(nr(t))for(var a in r)Wt(r,a)&&t(r[a],a,r)&&delete r[a];return r}function or(e){var t=l({},e);for(var r in t)Wt(t,r)&&(t[r]=Xt(t[r],{defaultValue:t[r]}));return t}function ur(e,t){var r=t.prototype||{};e.prototype=t.prototype=r,sr(e,P,t)}function sr(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&"object"===f(e)&&Object.defineProperty(e,t,{value:r,enumerable:n,writable:!0,configurable:!0})}var cr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u(this,e),this.items=Object.create(null),this.first=null,this.last=null,this.size=0,this.max=t,this.resetTtl=n,this.ttl=r}return c(e,[{key:"delete",value:function(e){if(Wt(this.items,e)){var t=this.items[e];delete this.items[e],this.size--,null!==t.prev&&(t.prev.next=t.next),null!==t.next&&(t.next.prev=t.prev),this.first===t&&(this.first=t.next),this.last===t&&(this.last=t.prev)}return this}},{key:"evict",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.size>0){var t=this.first;delete this.items[t.key],0==--this.size?(this.first=null,this.last=null):(this.first=t.next,this.first.prev=null)}return this}},{key:"get",value:function(e){var t;if(Wt(this.items,e)){var r=this.items[e];this.ttl>0&&r.expiry<=Date.now()?this.delete(e):(t=r.value,this.set(e,t,!0))}return t}},{key:"set",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.resetTtl;if(n||Wt(this.items,e)){if((r=this.items[e]).value=t,i&&(r.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.last!==r){var a=this.last,o=r.next,u=r.prev;this.first===r&&(this.first=r.next),r.next=null,r.prev=this.last,a.next=r,null!==u&&(u.next=o),null!==o&&(o.prev=u)}}else this.max>0&&this.size===this.max&&this.evict(!0),r=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:t},1==++this.size?this.first=r:this.last.next=r;return this.last=r,this}}]),e}(),lr={},fr={},pr={},hr=new cr(30,0,!1);function vr(e){return 200<=e&&e<300||ir([304],e)}function dr(e){return Wt(fr,e)}function mr(e){for(var t=e.length,r=e.length-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}function gr(e){try{return e?Zt(e,ce.Str)?mr(e):Zt(e,ce.FormData)?Array.from(e.values()).reduce((function(e,t){return e+(t&&t.size||mr(String(t)))}),0):"size"in e||"byteLength"in e?e.size||e.byteLength||0:mr(Xt(e,{defaultValue:""})):0}catch(e){return 0}}function yr(e){return new Promise((function(t,r){var n=Ut(function(e,t){if(t){for(var r=new $e(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(Kt)return Kt.encode(e);var i=e.length,a=new $e(e.length+(e.length>>1)),o=0,u=function(e){a[o++]=e};for(n=0;n<i;++n){if(o+5>a.length){var s=new $e(o+8+(i-n<<1));s.set(a),a=s}var c=e.charCodeAt(n);c<128||t?u(c):c<2048?(u(192|c>>6),u(128|63&c)):c>55295&&c<57344?(u(240|(c=65536+(1047552&c)|1023&e.charCodeAt(++n))>>18),u(128|c>>12&63),u(128|c>>6&63),u(128|63&c)):(u(224|c>>12),u(128|c>>6&63),u(128|63&c))}return dt(a,0,o)}(e),(function(e,i){return n(),e?r(e):t(i)}))}))}function br(e,t){return Zt(e,ce.Bool)?e:t}function Tr(e,t){return!e||ir(z,e)?t:e}function kr(e,t){var r=d.setTimeout((function(){r&&(d.clearTimeout(r),r=null),nr(e)&&e()}),t);return r}function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useGzip,r={};return t&&(r["Content-Encoding"]="gzip"),r["Content-Type"]=t||e.isImmediate?"text/plain; charset=UTF-8":"application/json; charset=utf-8",r}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l({useKeepalive:e.isImmediate,useGzip:true},e)}function Er(e){return er(e)||rr(e)?Xt(e,{defaultValue:""}):e}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.random()*(t-e)+e}function Ar(e){sr(e,"isInteractive",dr("tti"),!0)}function Ir(e){return Zt(e,ce.Arr)?e.slice(-1).pop():null}function Mr(e,t){try{var r=new RegExp('"'.concat(t,'"\\s*:\\s*"?([^",}]+)"?')).exec(e);return(null==r?void 0:r[1])||void 0}catch(e){}}var _r="exception collector loaded!",Cr="performance collector loaded!",Rr="trace collector loaded!",Or="Your browser does not support performance.mark!",Pr=function(e){return"There is already an duplicated ["+e+"]!"};function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mm:ss",r=t,n=new Date;Zt(e,ce.Num)&&(n=new Date((new Date).setTime(e))),Zt(e,ce.Str)&&(n=new Date(e)),"Invalid Date"===n.toString()&&(n=new Date);var i={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};for(var a in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,String(n.getFullYear()).slice(4-RegExp.$1.length))),i)if(Object.prototype.hasOwnProperty.call(i,a)&&new RegExp("("+a+")").test(r)){var o=i[a];r=r.replace(RegExp.$1,1===RegExp.$1.length?String(o):("00"+o).slice(String(o).length))}return r}var Lr=function(){if(!b||!b.now)return Date.now();var e=36e5,t=b.now(),r=Date.now(),n=b.timeOrigin?Math.abs(b.timeOrigin+t-r):e,i=n<e,a=b.timing&&b.timing.navigationStart,o="number"==typeof a?Math.abs(a+t-r):e;return i||o<e?n<=o?b.timeOrigin:a:r}(),Nr="%c Ktracker",Dr="color:#999",jr="color:#fff",zr={primary:"#1a7afb",info:"#909399",warn:"#faad14",error:"#f5222d",success:"#67C23A"},Br=["primary","info","warn","error","success"].reduce((function(e,t){var r;return e[t]=(r=zr[t],function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];m.log.apply(m,["%c".concat(Fr(),": ").concat(Nr," "),Dr,"background:".concat(r,";").concat(jr)].concat(t))}),e}),{});function qr(e){var t=e||{},r={on:function(e,n){var i=t[e];return Yt(i)!==ce.Arr&&(t[e]=i=[]),ir(i,n)?(Br.warn(Pr("[".concat(String(e),"] of [").concat(function(e){try{return e&&nr(e)&&e.name||C}catch(e){return C}}(n),"]"))),r):(i.push(n),r)},off:function(e,n){if(!n)return t[e]=[],r;var i=t[e];return i?(i.splice(i.indexOf(n)>>>0,1),r):r},emit:function(e,n){var i=t[e];return i&&i.slice().forEach((function(e){e(n)})),r},pick:function(e){return t[e]||[]},emitDebounce:function(){Br.warn('"pubsub.emitDebounce" has been deprecated!')},emitThrottle:function(){Br.warn('"pubsub.emitThrottle" has been deprecated!')}};return r}function Ur(e){try{return d.location[e]||null}catch(e){return null}}function Hr(e){try{return g[e]||null}catch(e){return null}}function Kr(e){var t=g.querySelector('meta[name="'.concat(e,'"]'));return t?t.getAttribute("content"):""}function Qr(){var e=d.screen,t=e.width,r=e.height,n={width:d.innerWidth||g.documentElement.clientWidth,height:d.innerHeight||g.documentElement.clientHeight},i=n.width,a=n.height;return{screenSize:"".concat(t,"x").concat(r),viewport:"".concat(i,"x").concat(a)}}function Gr(){try{return(null==y?void 0:y.userAgent)||""}catch(e){return""}}function Vr(e){var t={};if(!e)return t;try{e.split("\n").forEach((function(e){if(e&&e.trim()){var r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase();if(n){var i=e.substring(r+1).trim();t[n]=t[n]?t[n]+", "+i:i}}}))}catch(e){}return t}function Wr(e){var t,r={};try{null===(t=e.headers)||void 0===t||t.forEach((function(e,t){var n=String(e).trim();n&&(r[t]=r[t]?[r[t],n].join(", "):n)}))}catch(e){}return r}function $r(e,t){var r={};try{r.bizErrCode=t[Oe];var n=on(t[Pe]);if(r.bizErrMsg=n?n.slice(0,100):void 0,ir(t[_e]||"","application/json")){r.bizcode=Mr(e,Le);var i=Mr(e,Ne);r.bizMsg=i?i.slice(0,100):void 0}}catch(e){}return r}function Jr(e,t){try{for(var r,n=e,i=[],a=0,o=0,u=" > ".length;n&&a++<5&&!("html"===(r=Xr(n,t))||a>1&&o+i.length*u+r.length>=80);)i.push(r),o+=r.length,n=n.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}function Xr(e,t){var r,n,i,a,o,u=e,s=[];if(!u||!u.tagName)return"";s.push(u.tagName.toLowerCase());var c=t&&t.length?t.filter((function(e){return u.getAttribute(e)})).map((function(e){return[e,u.getAttribute(e)]})):null;if(c&&c.length)c.forEach((function(e){s.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else if(u.id&&s.push("#".concat(u.id)),(r=u.className)&&Zt(r,ce.Str)){var l=(n=r.split(/\s+/)).length;for(o=0;o<l;o++)s.push(".".concat(n[o]))}var f=["type","name","title","alt"],p=f.length;for(o=0;o<p;o++)i=f[o],(a=u.getAttribute(i))&&s.push("[".concat(i,'="').concat(a,'"]'));return s.join("")}function Yr(){var e=Ur("hostname");return _.some((function(t){return function(e,t,r){var n=(e||"").length;(r=void 0===r?n:+r)<0||r!=r?r=0:r>n&&(r=n);var i=r;return(r-=(t||"").length)>=0&&e.slice(r,i)===t}(e,t)}))}var Zr,en=function(){var e=Gr().toLocaleLowerCase();if(e&&!J.some((function(t){return ir(e,t)})))for(var t=0,r=$.length;t<r;t++){var n=$[t];if(ir(e,n))return n}}(),tn=(Zr=Ur("hostname"),M.some((function(e){return Zr===e}))||!!en);function rn(e){return!tn&&!1!==e}function nn(e,t){return rn(t)?e:te}function an(e){var t;return null===(t=null==e?void 0:e.outerHTML)||void 0===t?void 0:t.slice(0,100)}function on(e){if(!e||!Zt(e,ce.Str))return"";try{return d.atob(e)||""}catch(e){return""}}function un(e){return 1===e.nodeType}function sn(){var e=A();if(e&&e<=4)return!0;var t=x();return!!(t&&t<=4)}function cn(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return t}}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Zt(e,ce.Num)?parseFloat(e.toFixed(t)):0}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Vt(e)&&parseFloat(e)||t}function pn(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!Vt(t)||!Vt(e)||r&&t<=0?0:Math.max(0,ln(e-t))}
/*! js-cookie v3.0.1 | MIT */
function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var vn=function e(t,r){function n(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=hn({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var a=r[i].split("="),o=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(n[u]=t.read(o,u),e===u)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",hn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,hn({},this.attributes,t))},withConverter:function(t){return e(hn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),dn=function(){return"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)};function mn(e){return{setItem:function(t,r){d[e].setItem(t,Xt(r))},getItem:function(t,r){var n=d[e].getItem(t);return function(e,t){try{var r=JSON.parse(e);return tr(r)?t:r}catch(e){return t}}(n,r||n)},removeItem:function(t){d[e].removeItem(t)}}}var gn=mn("localStorage"),yn=mn("sessionStorage"),bn=dn(),Tn=function(){try{var e=yn.getItem(j);return e||(e=dn(),yn.setItem(j,e)),e}catch(e){var t=dn();return yn.setItem(j,t),t}}();function kn(e,t){if(e&&t){for(var r=0,n=0,i=0,a=e.length;i<a;i++)r+=e.charCodeAt(i);for(var o=0,u=t.length;o<u;o++)n+=t.charCodeAt(o);var s=r+""+t.charCodeAt(t.length-1)+n+e.charCodeAt(e.length-1);return s&&(s+="ABCDEFGHJKMNPQRSTWXYZ"[parseInt(s[s.length-1],10)]),s}}function wn(e){var t,r=(t="qhdi",vn.get(t)||"");return r||(r=e||bn),r}var Sn=wn();function En(e){if(e){var t=e.nodeName;if(e.hasChildNodes()&&xn(e),"SCRIPT"===t)e.getAttribute("type")===B&&An(e)}}function xn(e){if(e){var t=e.querySelectorAll('script[type="'.concat(B,'"]'));if(t&&t.length>0)for(var r=0,n=t.length;r<n;r++){var i=t[r];un(i)&&An(i)}}}function An(e){if(e){var t=e.getAttribute(oe);if(t){var r=e.getAttribute(se)||"",n=e.getAttribute(ue)||"";pr[t]=l({},pr[t],{pn:t,pv:r,ps:n})}}}function In(e){g&&w("DOMContentLoaded",(function t(r){e(r),S("DOMContentLoaded",t)}))}function Mn(e){if("complete"===g.readyState)return e();T("load",(function t(){e(),k("load",t)}))}function _n(e){T("beforeunload",e)}function Cn(){var e=g.querySelector('meta[kjl-global="userid"]');return e?e.getAttribute("content"):d.g_userId?d.g_userId:d.g_user&&d.g_user.userId?d.g_user.userId:""}function Rn(){var e=Be;if(!d.__PUB_BUCKET_CONFIG__||!d.__PUB_BUCKET_CONFIG__.buckets)return e;var t=d.__PUB_BUCKET_CONFIG__.buckets,r=t.isKA,n=t.isSKA;return n&&n.optimized&&(e=je),e===Be&&r&&r.optimized&&(e=ze),e}var On=-1,Pn=function(e){T("pageshow",(function(t){t.persisted&&(On=t.timeStamp,e(t))}),!0)},Fn="https://actionstat.kujiale.com",Ln="https://actiontrack.kujiale.com:8888",Nn=Yr()?Ue:qe,Dn={newEventUrl:"".concat(Nn,"/api/v2/fe/event"),newErrorUrl:"".concat(Nn,"/api/v2/fe/exception"),perfApiUrl:"".concat(Nn,"/api/v3/rum/performance"),traceApiUrl:"".concat(Nn,"/api/v2/fe/trace"),bizAnalyseUrl:"".concat(Fn,"/api/toolbehaviors"),multiAnalyseUrl:"".concat(Fn,"/api/multi-behaviors"),bizMonitorUrl:"".concat(Ln,"/actiontrack/api/toolbehaviors"),multiMonitorUrl:"".concat(Ln,"/actiontrack/api/multi-behaviors"),autoInit:!0,initException:!0,initPagePerformance:!0,initTraceCollector:!1,initBizEvent:!0,getUnhandledrejection:!0,getTryCatch:!0,getPagePerformance:!0,getResourcePerformance:!0,getAjaxPerformance:!0,getFetchPerformance:!1,maxStackDepth:10,userWhiteList:"",visitSample:.5,perfSample:1,apiSample:1,resSample:1,bizEventSample:1,longTaskSample:.1,debug:!1},jn=function(){function e(){var t=this;u(this,e),this.options=Dn,this.metadata={},this.state={serveTimeDiff:0},this.genMetadata(l({timeOrigin:ln(Lr),refer:Hr("referrer"),visitId:bn,ktrSessionId:Tn,ua:Gr(),clientIp:"",isRestore:!1,deviceMemory:x()||0,hardwareConcurrency:A()||0,isLowEndDevice:sn(),qhdi:Sn},Qr(),function(){var e,t=y&&y.connection||{},r=t.effectiveType||"4g",n=!!t.saveData;return{effectiveType:r,saveData:n,downlink:(e=t.downlink,Zt(e,ce.Num)?ln(1024*e/8):0),connectionType:t.type,networkRtt:t.rtt,networkOnline:!(y&&!tr(y.onLine))||y.onLine,isLowEndNetwork:cn(r,n)}}())),Pn((function(){t.setMetadata("isRestore",!0)})),Mn((function(){t.setMetadata(Qr())}))}return c(e,[{key:"curOptions",get:function(){return this.options}},{key:"setOptions",value:function(e){this.options=e}},{key:"clearOptions",value:function(){this.options=void 0}},{key:"setState",value:function(e,t){this.state[e]=t}},{key:"getState",value:function(e){return e?this.state[e]:this.state}},{key:"genMetadata",value:function(e){var t,r,n=this.getMetadata(),i=n.pfeBu||Kr("feBu"),a=function(e){var t=e.__pn,r=e.__pv,n=e.__pstage,i=t,a=r;if(!i||!a){var o=document.querySelector('script[type="'.concat(B,'"][pt="page"]'));i=(null==o?void 0:o.getAttribute(oe))||null,a=(null==o?void 0:o.getAttribute(se))||null}var u=[];if(!ir(q,a))for(var s in pr){var c=pr[s];c&&ir(q,c.pv)&&u.push(s)}return{__pn:i,__pv:a,__greyPns:rr(u)?u.join(","):null,__pstage:n||Kr("serviceWithStage"),__srcUrl:Ur("href")}}(n);return this.setMetadata(l({feBu:i,pfeBu:i,feVersion:n.feVersion||Kr("feVersion"),serviceWithStage:n.serviceWithStage||Kr("serviceWithStage"),toolVersion:d.app_version,userId:(t=n.userId,r=Cn(),!r||ir(I,r)?t||Sn:r||t||""),obsRootAccountId:d.g_sessionAccount?d.g_sessionAccount.obsRootAccountId:d.__TOOL_CONFIG__&&d.__TOOL_CONFIG__.obsRootAccountId||null,userLevel:Rn(),designId:d.g_designId,levelId:d.g_levelId,qhdi:n.qhdi||wn()},a,e)),this.getMetadata()}},{key:"setMetadata",value:function(e,t){"object"===f(e)?this.metadata=!1!==t?l({},this.metadata,e):e:this.metadata[e]=t}},{key:"getMetadata",value:function(e){return e?this.metadata[e]:this.metadata}},{key:"pagePubMeta",get:function(){var e=this.metadata,t=e.__pv;return{pn:e.pfeBu,ps:e.feVersion,pv:Tr(t,(t?e:this.genMetadata()).serviceWithStage)}}},{key:"emitter",get:function(){return this.emitterIns=this.emitterIns||qr()}},{key:"emitExclude",value:function(e,t){var r=t;return ir([De.ExApiErr,De.ExApi],e)&&(r=l({},t,{xhrDetail:{api:t.api,async:t.async,method:t.method,traceId:t._uniqueId}})),this.emitter.pick(e).some((function(e){var t=!1;try{t=!!e(r)}catch(e){Br.error(e)}return t}))}},{key:"currentTime",value:function(e){var t=this.getMetadata("timeOrigin");return ln(e>1e12?e:t?t+(e||b.now()):Date.now())}},{key:"currentFixTime",value:function(e){return ln(this.currentTime(e)+this.getState("serveTimeDiff"))}},{key:"currentAbsoluteTime",value:function(e){return ln(b?b.now():Date.now()-this.getMetadata("timeOrigin"),e)}}]),e}(),zn=new jn;function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=nr(d.requestIdleCallback),n=r?d.requestIdleCallback(i,{timeout:3e3}):kr(i,t);function i(){a(),nr(e)&&e()}function a(){r&&nr(d.cancelIdleCallback)?d.cancelIdleCallback(n):d.clearTimeout(n),n=null}return a}function qn(e){var t=nr(d.requestAnimationFrame),r=t?d.requestAnimationFrame(n):kr(n,1e3/60);function n(t){i(),nr(e)&&e(Zt(t,ce.Num)?t:zn.currentAbsoluteTime())}function i(){t&&nr(d.cancelAnimationFrame)?d.cancelAnimationFrame(r):d.clearTimeout(r),r=null}return i}function Un(){return!!d.MutationObserver}function Hn(){return!!d.PerformanceObserver}function Kn(){return b&&!!b.getEntriesByType&&!!b.now&&!!b.mark}function Qn(){return!!(null==y?void 0:y.sendBeacon)}function Gn(){return Vn()&&"keepalive"in Request.prototype}function Vn(){var e=!0;try{new Headers,new Request(""),new Response}catch(t){e=!1}return e&&nr(d.fetch)}var Wn="POST";function $n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(null==t?void 0:t.debug)&&(t.isSuccess?Br.info("send with "+t.type+" success [url: "+e+"]"):Br.error("send with "+t.type+" error [url: "+e+"]"))}function Jn(e,t,r){return new Promise((function(n){var i=y.sendBeacon(e,t);$n(e,l({isSuccess:i,type:"beacon"},r)),n(i)}))}function Xn(e,t,r){return h(this,void 0,void 0,o().mark((function n(){var i,a,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=wr(r),a=!1,n.prev=2,n.next=5,fetch(e,{method:r.useMethod||Wn,body:t,keepalive:r.useKeepalive,headers:i});case 5:u=n.sent,a=vr(u.status),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:return $n(e,l({isSuccess:a,type:"fetch"},r)),n.abrupt("return",a);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))}function Yn(e,t,r){return new Promise((function(n){var i=new XMLHttpRequest;i.timeout=2e3,i.onloadend=function(){var t=vr(i.status);$n(e,l({isSuccess:t,type:"xhr"},r)),nr(r.onXhrLoadend)&&r.onXhrLoadend(i),n(t)},i.open(r.useMethod||Wn,e);var a=wr(r);Object.keys(a).forEach((function(e){i.setRequestHeader(e,a[e])})),i.send(t)}))}function Zn(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t?Gn()?Xn(e,t,r):r.useKeepalive?Qn()?Jn(e,t,r):void 0:Yn(e,t,r):re(!1)}function ei(e){return function(t){return nr(t)?(zn.emitter.on(e,t),function(){return zn.emitter.off(e,t)}):(Br.error("The handler must be a function"),te)}}function ti(e){return"pageshow"===e.type||"visible"===g.visibilityState}function ri(e){return"pagehide"===e.type||"hidden"===g.visibilityState}function ni(e){var t=e.once,r=e.isPageVisibility,n=e.eventCallback,i=e.onRemoveListener,a=!1;return function(e){if(r(e)){if(a)return void(a=!1);a=!0,t&&i(),n(e)}}}function ii(e,t){var r=ni({once:t,isPageVisibility:ti,eventCallback:e,onRemoveListener:n});function n(){S("visibilitychange",r,!0),k("pageshow",r,!0)}return w("visibilitychange",r,!0),T("pageshow",r,!0),n}function ai(e,t){var r=ni({once:t,isPageVisibility:ri,eventCallback:e,onRemoveListener:n});function n(){S("visibilitychange",r,!0),k("pagehide",r,!0)}return w("visibilitychange",r,!0),T("pagehide",r,!0),n}var oi,ui=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.delay,i=r.maxDepth,a=r.autoCloseReport,o=void 0===a||a,s=r.reporter,c=r.uninstaller;u(this,e),this.queueCache=[],this.isRunning=!1,this.retryTaskNum=0,this.discardedTaskNum=0,this.queueCacheTasks=[],this.delay=n||3e4,this.maxDepth=i||45,this.maxDepth=this.maxDepth,this.reporter=s,this.uninstaller=c,this.debounceTask=Ve(this.runReport.bind(this),this.delay),ii((function(){e.isImmediate=!1})),o&&ai(this.runReportPromptly.bind(this)),this.intervalRun=d.setInterval((function(){t.runReportPromptly()}),6e4)}return c(e,[{key:"push",value:function(){var e;return(e=this.queueCache).push.apply(e,arguments),this.size>=this.maxDepth?this.debounceTask.flush():this.debounceTask(),this}},{key:"replace",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.queueCache=t}},{key:"runReportPromptly",value:function(){e.isImmediate=!0,this.debounceTask.cancel(),this.runReport.call(this)}},{key:"teardown",value:function(){nr(this.uninstaller)&&this.uninstaller(!0),this.queueCacheTasks=[],this.queueCache=[],this.intervalRun=null}},{key:"size",get:function(){return this.queueCache.length}},{key:"list",get:function(){return this.queueCache}},{key:"runReport",value:function(){return h(this,void 0,void 0,o().mark((function t(){var r,n=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.size<=0)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.genReportTask();case 4:if(r=t.sent){t.next=7;break}return t.abrupt("return");case 7:if(!e.isImmediate){t.next=10;break}return this.runReportTask(r),t.abrupt("return");case 10:Bn((function(){return n.runReportTask.call(n,r)}));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"genReportTask",value:function(){return h(this,void 0,void 0,o().mark((function t(){var r,n,i,a,u,s,c,f,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.isImmediate,n=this.queueCache.splice(0,r?this.size:this.maxDepth),i=this.reporter(n,{isImmediate:r})){t.next=5;break}return t.abrupt("return");case 5:if(a=i.url,u=i.options,s=i.payload,(c=l({},u)).useGzip=c.useGzip&&n.length>=10,(f=Er(s))&&Zt(f,ce.Str)){t.next=11;break}return t.abrupt("return");case 11:if(!c.useGzip){t.next=22;break}return t.prev=12,t.next=15,yr(f);case 15:f=t.sent,c.useGzip=!0,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(12),c.useGzip=!1;case 22:return p=nr(a)?a(c):a,c.debug&&Br.info("sendTrackData [url: "+p+", payload: "+Er(s)+"]"),t.abrupt("return",{reportUrl:p,plainPayload:f,mergeOptions:c,retryCount:0});case 25:case"end":return t.stop()}}),t,this,[[12,19]])})))}},{key:"runReportTask",value:function(t){return h(this,void 0,void 0,o().mark((function r(){var n,i,a,u,s,c=this;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(this.retryTaskNum+this.discardedTaskNum+this.queueCacheTasks.length>4)){r.next=3;break}return this.teardown(),r.abrupt("return");case 3:if(n=t.reportUrl,i=t.plainPayload,a=t.mergeOptions,u=t.retryCount,!e.isImmediate){r.next=8;break}return Zn(n,i,a),this.runQueueEarliestTask(),r.abrupt("return");case 8:if(!(this.isRunning&&u<=0)){r.next=11;break}return this.queueCacheTasks.push(t),r.abrupt("return");case 11:return this.isRunning=!0,r.next=14,Zn(n,i,a);case 14:if(s=r.sent,this.isRunning=!1,!s){r.next=20;break}return u>0&&(this.retryTaskNum-=1),this.runQueueEarliestTask(),r.abrupt("return");case 20:if(u<=0&&(this.retryTaskNum+=1),t.retryCount+=1,!(t.retryCount>3)){r.next=26;break}return this.discardedTaskNum+=1,this.retryTaskNum-=1,r.abrupt("return");case 26:kr((function(){return c.runReportTask(t)}),1e3*t.retryCount);case 27:case"end":return r.stop()}}),r,this)})))}},{key:"runQueueEarliestTask",value:function(){if(rr(this.queueCacheTasks))if(e.isImmediate)for(var t=null;t=this.queueCacheTasks.shift();)this.runReportTask(t);else{var r=this.queueCacheTasks.shift();this.runReportTask(r)}}}],[{key:"genErrorQueue",value:function(t){return this.errorQueue=this.errorQueue||new e(t)}},{key:"genTimingQueue",value:function(t){return this.timingQueue=this.timingQueue||new e(t)}},{key:"genBehaviorQueue",value:function(t){return this.behaviorQueue=this.behaviorQueue||new e(t)}},{key:"genActionstatQueue",value:function(t){return this.actionstatQueue=this.actionstatQueue||new e(t)}},{key:"genActiontrackQueue",value:function(t){return this.actiontrackQueue=this.actiontrackQueue||new e(t)}}]),e}();function si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e.length<=0)){var r=zn.curOptions;return{url:r.traceApiUrl,options:Sr(t),payload:l({resource:e},zn.genMetadata(),{url:Ur("href")})}}}function ci(e){var t=Object.create(null);if(!e)return t;for(var r=e.split("&"),n=0,i=r.length;n<i;n++){var a=r[n].split("="),o=decodeURIComponent(a[0]);if(0!==o.length){var u=decodeURIComponent((a[1]||"").replace(/\+/g," ")),s=t[o];void 0!==s?Array.isArray(s)?t[o].push(u):t[o]=[s,u]:t[o]=u}}return t}function li(e){var t=Object.create(null);return Zt(e,ce.Str)?ci(vi(e).search):t}function fi(e){if(!e)return"";var t=vi(e);if(!ir(t.pathname,"."))return"";var r=H.exec(t.pathname);if(rr(r)){var n=r[4].toLocaleLowerCase(),i=K.exec(n);return rr(i)?i[0]:n}return""}function pi(e){if(!e)return!0;try{var t=vi(e),r=t.host;if(r&&Y.some((function(e){return ir(r,e)})))return!0;var n=!1,i=t.pathname;return i?n=ee.some((function(t){return t instanceof RegExp?t.test(i):!!Zt(t,ce.Str)&&ir(e,t)})):n}catch(e){return!0}}ui.isImmediate=!1,function(e){e.Err="isErrMounted",e.Perf="isPerfMounted",e.Trace="isTraceMounted",e.Ktr="isKtrMounted"}(oi||(oi={}));var hi,vi=(hi=g.createElement("a"),function(e){var t={hash:"",host:"",hostname:"",href:e,origin:"",pathname:"",port:"",protocol:"",search:""};return e&&Zt(e,ce.Str)?(hi.setAttribute("href",e),t.hash=hi.hash?hi.hash.replace(/^#/,""):"",t.host=hi.host,t.hostname=hi.hostname,t.href=hi.href||e,t.origin=hi.origin||"",t.pathname="/"===hi.pathname.charAt(0)?hi.pathname:"/"+hi.pathname,t.port=hi.port,t.protocol=hi.protocol?hi.protocol.replace(/:$/,""):"",t.search=hi.search?hi.search.replace(/^\?/,""):"",t):t});function di(e){if(!e||!Zt(e,ce.Str))return!1;try{return U.test(e)}catch(e){return!1}}var mi=function(){return b&&(b.getEntriesByType&&b.getEntriesByType("navigation")[0]||function(){var e=b.timing,t=b.navigation.type,r={type:2===t?"back_forward":1===t?"reload":"navigate",entryType:"navigation",initiatorType:"navigation",startTime:0,workerStart:0,redirectCount:b.navigation.redirectCount,name:Ur("href"),nextHopProtocol:Ur("protocol"),duration:Math.max(e.loadEventEnd-e.navigationStart,0)};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(r[n]=Math.max(e[n]-e.navigationStart,0));return r}())},gi=["click","dblclick","keypress"],yi=["popstate","hashchange"],bi=["pushState","replaceState"],Ti=["CANVAS"];function ki(e,t){var r=zn.pagePubMeta,n=e.pn?e:(null==t?void 0:t.pn)?t:r,i=null==n?void 0:n.pn,a=pr[i]||n;return{pn:a.pn||r.pn,ps:a.ps||r.ps,pv:Tr((null==a?void 0:a.pv)||zn.curOptions[i],r.pv)}}function wi(e){if(zn.getState(oi.Trace)){Ar(e);var t=ki({pn:e.feBu});ui.behaviorQueue.push(l({},e,{feBu:t.pn,resourceId:t.ps,serviceWithStage:t.pv,levelId:d.g_levelId,_uniqueId:dn()}))}}var Si,Ei={popstate:Mi("popstate"),hashchange:Mi("hashchange")},xi={},Ai="",Ii="";function Mi(e){return function(t){var r,n,i,a=zn.getMetadata(),o=a.timeOrigin,u=a.refer,s=Ai||u,c=Ii||vi(u).origin||u,l=null!==(r=null==t?void 0:t.toUrl)&&void 0!==r?r:String(Ur("href")),f=null!==(n=null==t?void 0:t.toTitle)&&void 0!==n?n:String(Hr("title"));Ai=l,Ii=f,wi({feBu:zn.pagePubMeta.pn,type:ne.Rou,subType:e,eventType:null!==(i=null==t?void 0:t.eventType)&&void 0!==i?i:e,timestamp:Ai?zn.currentFixTime():o,from:s,fromTitle:c,to:l,toTitle:f}),zn.emitter.emit(De.AppRoute)}}function _i(e){var t=e.target,r=t.tagName,n=e.type;r&&n&&!ir(Ti,r)&&wi({feBu:zn.pagePubMeta.pn,type:ne.Beh,subType:n,eventType:n,tagName:r,title:null==t?void 0:t.title,tagValue:null==t?void 0:t.value,tagPath:Jr(t),outerHTML:an(t),width:t.offsetWidth,height:t.offsetHeight,timestamp:zn.currentFixTime(e.timeStamp)})}function Ci(){if(rn(zn.curOptions.initTraceCollector)){if(zn.getState(oi.Trace))return Br.info(Rr);ui.genBehaviorQueue({maxDepth:100,reporter:si,uninstaller:Ri}),In((function(){var e;gi.forEach((function(e){return w(e,_i,!1)})),e=mi(),Mi("initPage")({eventType:e&&e.type||"navigate"}),bi.forEach((function(e){nr(xi[e])||(xi[e]=Gt(d.history,e,(function(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(d.history,n);var a=n.length>2?n[2]:void 0,o=n.length>1?n[1]:String(Hr("title"));a&&Mi(e)({toUrl:String(a),toTitle:o?String(o):""})}})))})),yi.forEach((function(e){return T(e,Ei[e],!1)}))})),zn.setState(oi.Trace,!0),Br.success(Rr)}}function Ri(e){zn.getState(oi.Trace)&&(gi.forEach((function(e){return S(e,_i,!1)})),bi.forEach((function(e){var t=xi[e];nr(t)&&(t(),xi[e]=void 0)})),yi.forEach((function(e){return k(e,Ei[e],!1)})),!e&&ui.behaviorQueue.teardown(),zn.setState(oi.Trace,!1),Br.success("trace collector unloaded!"))}!function(e){e.legacyEvent="legacyEvent",e.event="sendEventV2",e.analyseEvent="sendAnalyseEvent",e.legacyError="legacyError",e.error="sendErrorV2"}(Si||(Si={}));var Oi=["isConstructor","isEval","isNative","isToplevel"],Pi=["columnNumber","lineNumber"],Fi=["args"],Li=[].concat(Oi,Pi,["fileName","functionName","source"],Fi),Ni=function(){function e(t){if(u(this,e),t)for(var r=0,n=Li.length;r<n;r++){var i=Li[r];if(Wt(t,i)){var a=t[i];if(void 0===a)continue;if(ir(Oi,i)){this[i]=Boolean(a);continue}if(ir(Fi,i)){if(!Array.isArray(a))throw new TypeError("Args must be an Array");this.args=a;continue}if(ir(Pi,i)){if(!Vt(a))throw new TypeError(i+" must be a Number");this[i]=Number(a);continue}this[i]=String(a)}}}return c(e,[{key:"toString",value:function(){return(this.functionName||"{anonymous}")+("("+(this.args||[]).join(",")+")")+(this.fileName?"@"+this.fileName:"")+(Vt(this.lineNumber)?":"+this.lineNumber:"")+(Vt(this.columnNumber)?":"+this.columnNumber:"")}}],[{key:"fromString",value:function(t){var r,n,i,a=t.indexOf("("),o=t.lastIndexOf(")"),u=t.substring(0,a),s=t.substring(a+1,o).split(","),c=t.substring(o+1);if(0===c.indexOf("@")){var l=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(c);l&&(r=l[1],n=l[2]?Number(l[2]):void 0,i=l[3]?Number(l[3]):void 0)}return new e({functionName:u,args:s,fileName:r,lineNumber:n,columnNumber:i})}}]),e}(),Di=/^\s*at .*(\S+\:\d+|\(native\))/m,ji=/^(eval@)?(\[native code\])?$/;function zi(e){return Z.test(e)}function Bi(e){var t=ci(Ir(e.replace(/[\[\]]/g,"\\$&").split("?"))),r=t.pn,n=t.ps;return n&&(ir(n,":")&&(n=n.split(":")[0]),ir(n," ")&&(n=n.split(" ")[0])),{pn:r,ps:n}}function qi(e){if(!ir(e,":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return t?[t[1],t[2],t[3]]:[]}function Ui(e){return e.stack?e.stack.match(Di)?function(e){var t=!0,r=[],n=(e.stack||"").split("\n").filter((function(e){return!!e.match(Di)})).map((function(e){var n=Bi(e),i=n.pn,a=n.ps;i&&a&&r.push({pn:i,ps:a}),ir(e,"(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var o=[];try{o=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1)}catch(e){}var u=qi(o.pop()),s=o.join(" ")||void 0,c=ir(["eval","<anonymous>"],u[0])?void 0:u[0];return t=t&&zi(c),new Ni({functionName:s,fileName:c,lineNumber:u[1],columnNumber:u[2],source:e})}));return t&&!rr(r)&&r.push({pn:N}),{stackFrames:n,pubAppInfos:r}}(e):function(e){var t=!0,r=[],n=(e.stack||"").split("\n").filter((function(e){return!e.match(ji)})).map((function(e){var n=Bi(e),i=n.pn,a=n.ps;if(i&&a&&r.push({pn:i,ps:a}),ir(e," > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),ir(e,"@")||ir(e,":")){var o=/((.*".+"[^@]*)?[^@]*)(?:@)/,u=e.match(o),s=u&&u[1]?u[1]:void 0,c=qi(e.replace(o,"")),l=c[0];return t=t&&zi(l),new Ni({functionName:s,fileName:l,lineNumber:c[1],columnNumber:c[2],source:e})}return new Ni({functionName:e})}));return t&&!rr(r)&&r.push({pn:N}),{stackFrames:n,pubAppInfos:r}}(e):{stackFrames:[],pubAppInfos:[]}}function Hi(e){return!(!e||"object"!==f(e))&&X.every((function(t){return t in e}))}function Ki(e){return!e||!hr.get(e)&&(hr.set(e,!0),!0)}var Qi=Error.captureStackTrace||function(e){return(Hi(e)&&e.stack?e:new Error).stack};function Gi(e){var t=function(){var e=new Error(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"errorCapturer");return Qi(e),e}();return Vi(t,e)}function Vi(e,t){var r=zn.pagePubMeta,i={pubAppInfo:r,parsedStack:ae};if(!e)return i;var a=l({depth:zn.curOptions.maxStackDepth,isReverse:!1,isParseStack:!1,isFirstApp:!0},t),o=a.depth,u=a.isReverse,s=a.isParseStack,c=a.isFirstApp;if(!e.stack)return s&&(i.parsedStack.message=e.message),i.pubAppInfo=ki(r),i;try{var f,p=Ui(e),h=p.stackFrames,v=p.pubAppInfos;if(u&&(f=Ir(v)),!u){var d=n(v,2),m=d[0],g=d[1];f=c?m:g||m}if((null==f?void 0:f.pn)&&(i.pubAppInfo=ki({pn:f.pn},r)),s){for(var y=[],b=0,T=h.length;b<T&&!(b>=o);b++){var k=h[b];y.push({url:k.fileName,func:k.functionName||C,args:k.args||[],line:k.lineNumber,column:k.columnNumber})}var w=y[0]||{},S=w.line,E=w.column;i.parsedStack={column:E,line:S,stack:y,name:e.name,message:e.message,originStack:e.stack}}return i}catch(t){return s&&(i.parsedStack={name:e.name,message:e.message,stack:[],originStack:e.stack}),i.pubAppInfo=ki(r),i}}function Wi(e){return e===Si.analyseEvent}function $i(e,t){var r=zn.curOptions,n=Wi(e),i=n?r.multiAnalyseUrl:r.multiMonitorUrl,a="";return t&&!n&&(a=t.useGzip?"/gzip":t.isImmediate?"/text":a),i+a}function Ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Wi(e)?l(t,{isImmediate:!1,useGzip:!1,useKeepalive:t.isImmediate}):t}var Xi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){return $i(e,Ji(e,l({},t,r)))}},Yi=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t.length<=0))return{url:Xi(e,r),options:Sr(Ji(e,r)),payload:t}}},Zi=["timeOrigin","saveData","clientIp","isInteractive","isLowEndDevice","isLowEndNetwork","isRestore","networkOnline","pfeBu","feVersion"],ea=function(e,t,r,n){var i={};if(Yt(e)===ce.Str&&(i.eventType=e,i.data=t),"object"===f(e)&&(i.eventType=e.eventType,i.data=t||e),i.eventType&&i.data){var a=ia({type:Si.legacyEvent,param:i,options:r});return ui.actiontrackQueue.push(a),nr(n)&&n(!0),re(!0)}},ta=na(Si.event),ra=na(Si.analyseEvent);function na(e){return function(t,r,n){if(t.eventType&&er(t.data)){var i=ia({param:t,options:r});return e===Si.event&&ui.actiontrackQueue.push(i),e===Si.analyseEvent&&ui.actionstatQueue.push(i),nr(n)&&n(!0),re(!0)}}}function ia(e){var t,n=e.type,i=e.param,a=e.options,o=i.eventType,u=i.data,s=i.labels,c=i.level,f=l({},ar(zn.genMetadata(),Zi),a),h=r({eventType:o},"_action_behavior",o);if(n===Si.legacyEvent)return l(f,h,{payload:u});var v=l({},s),m=v.pubAppName,g=v.feBu,y=p(v,["pubAppName","feBu"]),b=g||m,T=b?ki({pn:b}):Gi({isFirstApp:!i.isInvokeOtherApp}).pubAppInfo,k=l(f,(r(t={level:c},"__MonitorMetricPayload__",Xt(u)),r(t,"feBu",T.pn),r(t,"resourceId",T.ps),r(t,"serviceWithStage",T.pv),r(t,"timestamp",zn.currentFixTime()),r(t,"levelId",d.g_levelId),t));return l(function(e,t){var r=l({},e);for(var n in t)if(Wt(t,n)){var i=t[n];Wt(e,n)&&ir(I,i)||(r[n]=i)}return r}(k,l({},y,u)),h)}function aa(e){Ar(e);var t=e.error,r=e.labels,n=p(e,["error","labels"]),i=t.labels,a=p(t,["labels"]),o=l(function(e){var t={};try{var r=e.config,n=e.request,i=e.response,a=l({},r,n);if(er(a)){var o=a.api||a.url;if(o){var u=vi(o);l(t,{subType:le,method:a.method,reqUrl:u.href,reqOrigin:u.origin,reqPath:u.pathname})}}if(i){var s=i.statusCode,c=i.data,f=i.headers,p=i.hunterId,h=i.bizcode,v=i.bizMsg,m=i.bizErrCode,g=i.bizErrMsg||on(null==f?void 0:f[Pe]);l(t,{resStatus:ir(I,s)?i.status:s,bizcode:h||(null==c?void 0:c[Le]),bizMsg:v||(null==c?void 0:c[Ne]),bizErrCode:m||(null==f?void 0:f[Oe]),bizErrMsg:g?g.slice(0,100):void 0,hunterId:p||(null==f?void 0:f[Me]),requestId:null==f?void 0:f[Fe]})}}catch(e){}return er(t)?l({subType:fe,designId:d.g_designId,levelId:d.g_levelId},t):t}(t),r,i,ar(a,(function(e){return ir(["object","function"],f(e))}))),u=Vi(t,{isParseStack:!0}),s=u.parsedStack,c=u.pubAppInfo,h=o.feBu||o.pubAppName||c.pn,v="".concat(s.line).concat(s.column);["reqUrl","method","resStatus"].forEach((function(e){var t=o[e];!ir(I,t)&&(v+=t)}));var m=kn(s.message,v+h),g=ir([Si.error,Si.legacyError],n.subType),y=!Ki(m),b=o.level||n.level||"error",T=ir(["trace"],b);if(!(y&&!g&&!T)){var k=kn(s.message,v),w=ki({pn:h},c),S=l({issueKey:k},n,s,{level:b,labels:or(ar(o,["stack","reqParams","reqData"])),feBu:h,resourceId:w.ps,serviceWithStage:w.pv,levelId:d.g_levelId,isCustom:Wt(t,"name"),_uniqueId:dn()});return zn.emitExclude(De.ExErr,S)?void 0:S}}function oa(e){var t=e.subType,r=e.error,n=e.defaultMsg,i=p(e,["subType","error","defaultMsg"]);if(zn.getState(oi.Err)&&Hi(r)&&!r[R]){!function(e){sr(e,R,!0)}(r);var a=r.message;if(!Zt(a,ce.Str)||!ir(a,ce.InvErr)){sr(r,"message",a||n);var o=aa(l(i,{type:ne.Err,subType:t,url:Ur("href"),timestamp:zn.currentFixTime(),error:r}));o&&ui.errorQueue.push(o)}}}function ua(e){if(!Hi(e))return Br.warn("'sendError' Expected error!");ca(Si.legacyError)({error:e})}function sa(e){ca(Si.error)(e)}function ca(e){return function(t){(Array.isArray(t)?t:[t]).reduce((function(e,t){return t&&t.error&&(Array.isArray(t.error)&&t.error.forEach((function(r){Hi(r)&&e.push(l({},t,{error:r}))})),Hi(t.error)&&e.push(t)),e}),[]).forEach((function(t){oa({subType:e,error:t.error,labels:t.labels,level:t.level})}))}}function la(e,t){if(zn.getState(oi.Perf)){var r=Ur("href"),n={feBu:t.feBu||zn.pagePubMeta.pn,type:ne.Mea,subType:e,name:t.name||e,timestamp:zn.currentFixTime(),startTime:t.startTime,duration:t.duration,endTime:t.duration,url:r,urlHost:vi(r).hostname},i=t.element||t.target;switch(i&&(n.path=Jr(i),n.outerHTML=an(i)),e){case ge:case ye:case be:n.startTime=0;break;case Te:case ke:case Se:n.endTime=n.startTime+n.duration;break;case we:n.endTime=n.startTime;break;case Ee:break;case xe:if(!i)return;n.startTime=0,n.duration=t.startTime,n.endTime=n.startTime+n.duration,n.name=t.identifier;break;case Ae:n.tbt=t.tbt,n.endTime=n.startTime+n.duration,l(n,t.markMetrics)}return fa(n),n}}function fa(e){Ar(e);var t=e.feBu?ki({pn:e.feBu}):Gi().pubAppInfo;ui.timingQueue.push(l({},e,{feBu:t.pn,resourceId:t.ps,serviceWithStage:t.pv,levelId:d.g_levelId,_uniqueId:dn()}))}var pa,ha,va=function(){function e(){u(this,e),this.cacheCount=0,this.loadedResourceCache={}}return c(e,[{key:"countAccumulator",value:function(){this.cacheCount+=1}},{key:"countSubtracter",value:function(){this.cacheCount-=1}},{key:"countTouchBound",value:function(){return this.cacheCount>=50}},{key:"countReseter",value:function(){this.cacheCount=0}},{key:"push",value:function(e,t){if(e&&t&&!this.countTouchBound())if(Kn()){var r=this.loadedResourceCache[e]||[];if(!rr(r))return this.loadedResourceCache[e]=[t],void this.countAccumulator();for(var n=0,i=r.length;n<i;n++){if(r[n].timestamp>t.timestamp){r.splice(n,0,t),this.countAccumulator();break}if(n===i-1){r.push(t),this.countAccumulator();break}}this.loadedResourceCache[e]=r}else fa(t)}},{key:"consume",value:function(e,t){if(!this.has(e))return null;var r=this.loadedResourceCache[e];if(!t){var n=r.shift();return this.countSubtracter(),this.removeKeyIfPossible(e),n}var i=r.findIndex((function(e){return e.timestamp===t}));if(i>-1){var a=r.splice(i,1).shift();return this.countSubtracter(),this.removeKeyIfPossible(e),a}var o=r.shift();return this.countSubtracter(),this.removeKeyIfPossible(e),o}},{key:"has",value:function(e){return rr(this.loadedResourceCache[e])}},{key:"pourout",value:function(){var e=[];for(var r in this.loadedResourceCache)e.push.apply(e,t(this.loadedResourceCache[r]));return this.loadedResourceCache={},this.countReseter(),e}},{key:"removeKeyIfPossible",value:function(e){this.has(e)||delete this.loadedResourceCache[e]}}]),e}(),da=new va;function ma(e,t){if(!(e.length<=0))return{url:zn.curOptions.newErrorUrl,options:Sr(t),payload:l({resource:e},zn.genMetadata(),{url:Ur("href")})}}var ga;var ya;function ba(){var e=zn.curOptions;if(rn(e.initException)){if(zn.getState(oi.Err))return Br.info(_r);ui.genErrorQueue({reporter:ma,uninstaller:Ta}),e.getUnhandledrejection&&(nr(ya)||T(ve,ya=function(e){oa({subType:ve,error:e.reason,defaultMsg:"unhandled rejection"})})),nr(pa)||T("error",pa=function(e){var t=e.target;if(t instanceof HTMLElement&&un(t)&&ir(L,t.nodeName)){var r=Ur("href"),n=function(e){return(null==e?void 0:e.src)||(null==e?void 0:e.href)||""}(t);if(!n||!n.trim()||n===r)return;var i=vi(n.trim()),a=i.href;if(!di(a)||pi(a)||n===r)return;var o={feBu:ki(li(a)).pn,tagName:t.tagName,outerHTML:an(t),path:Jr(t)};zn.getState(oi.Perf)&&da.push(n,l({type:ne.Res,subType:fi(n),name:n,outerHTML:an(t),path:Jr(t),url:Ur("href"),timestamp:zn.currentFixTime(e.timeStamp),isSuccess:!1,isLoadend:!0,_uniqueId:dn()},o));var u=new Error("Resource load error: ".concat(n));u.name="ResourceLoadError",u.stack="",u.labels=l({level:me,reqUrl:i.href,reqOrigin:i.origin,reqPath:i.pathname},o),oa({subType:me,error:u})}},!0),nr(ha)||(ha=Gt(m,"error",(function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.apply(m,r);for(var i=0,a=r.length;i<a;i++){var o=r[i];oa({subType:pe,error:o})}}}))),nr(ga)||T("error",ga=function(e){var t=e.message,r=e.error;oa({subType:he,error:r,defaultMsg:t||"global error"})},!1),zn.setState(oi.Err,!0),Br.success(_r)}}function Ta(e){zn.getState(oi.Err)&&(zn.setState(oi.Err,!1),nr(ha)&&(ha(),ha=null),nr(pa)&&(k("error",pa,!0),pa=null),nr(ga)&&(k("error",ga,!1),ga=null),nr(ya)&&(k(ve,ya),ya=null),!e&&ui.errorQueue.teardown(),Br.success("exception collector unloaded!"))}function ka(e,t,r){if(!nr(e))return e;try{var n=e[O];if(n)return n;if(e[P])return e}catch(t){return e}var i=function(){var n=Array.prototype.slice.call(arguments);try{r&&nr(r)&&r.apply(this,arguments);var i=n.map((function(e){return ka(e,t)}));return e.apply(this,i)}catch(e){throw oa(l({subType:de,error:e},t)),e}};try{for(var a in e)Wt(e,a)&&(i[a]=e[a])}catch(e){}ur(i,e),sr(e,O,i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(e){}return i}function wa(){var e=l({},d.g_ktrackerOptions||{},d.ktrackerOptions||{}),t=function(e,t){var r,n=l({},t);for(r in e){var i=Wt(t,r)?t[r]:Kr(r);if(ir(I,i))n[r]=e[r];else switch(i){case"true":case!0:n[r]=!0;break;case"false":case!1:n[r]=!1;break;default:if(Vt(i)){var a=parseInt(i,10);n[r]=a}n[r]=i}}return n}(Dn,e);return zn.setOptions(t),t}var Sa,Ea={},xa={target:g.documentElement,options:{childList:!0,subtree:!0}};function Aa(e,t,r){if(Un()){var n=l({},xa,r);try{var i=new MutationObserver((function(e){e&&e.forEach&&nr(t)&&t(e)}));i.observe(n.target,n.options),Ea[e]=i}catch(e){Br.warn(e)}}}function Ia(e){var t=Ea[e];t instanceof MutationObserver&&(t.disconnect(),delete Ea[e])}function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"Request"in d&&$t(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Zt(e[0],ce.Str)?e[0]:"Request"in d&&$t(e[0],Request)?e[0].url:String(e[0])}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"Request"in d&&$t(e[0],Request)?e[0].body:e[1]?e[1].body:""}var Ra,Oa,Pa,Fa,La,Na=function(){var e=mi();return e&&e.activationStart||0},Da=1,ja=!1;function za(e){var t=e.textContent;return t&&t.trim()}function Ba(e){var t=e&&e.tagName;return t&&!/^(?:HEAD|META|LINK|STYLE|SCRIPT|BR)$/.test(t)}function qa(e){return e&&1===e.nodeType&&za(e)&&Ba(e.parentElement)}function Ua(e){Ra={fmp:Pa?Pa.t:e,mtti:e}}function Ha(e){var t=0;if(e!==g.body){if(!(e.offsetWidth>0&&e.offsetHeight>0))return t;if("IMG"!==e.tagName){if(za(e)||"none"!==getComputedStyle(e).backgroundImage){t=1;var r=e.childNodes;r&&r.length&&(t+=Ga(r))}}else e.src&&(t=1)}return t}function Ka(e){if(!(e<=0)){var t=zn.currentAbsoluteTime(),r={t:t,s:e,m:0,p:Oa};Oa=r;for(var n=r;r=r.p;)t-r.t>50?delete r.p:(e+=r.s,r.s>n.s&&(n=r));e>=(Pa?Pa.m:0)&&(n.m=e,Pa!==n&&(Pa=n,dr(Ie)?Wa():La=Wa))}}function Qa(){Ka(Ha(this)),this.removeEventListener("load",Qa)}function Ga(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e[r];"IMG"===i.tagName?i.addEventListener("load",Qa):Ba(i)?t+=Ha(i):qa(i)&&(t+=1)}return t}function Va(){Fa&&(clearTimeout(Fa),Fa=null)}function Wa(){var e,t,r,n,i;Va(),function a(){ja||(r=zn.currentAbsoluteTime(),e||(e=t=r),Fa=setTimeout((function(){n=zn.currentAbsoluteTime(),(i=n-r)-Da<10?Da<16?Da*=2:Da<25?Da+=1:Da=25:i>50&&(Da=Math.max(1,Da/2)),n-r>50&&(t=n),Va(),n-t>1e3||n>2e4?Ua(t):a()}),Da))}()}function $a(e){if(g.body){var t=0;e.forEach((function(e){t+=Ga(e.addedNodes)})),Ka(t)}}function Ja(){if(!ja){for(var e in ja=!0,Ra&&Vt(Ra.mtti)||Ua(zn.currentAbsoluteTime()),Ia(Ke),Ra)if(Wt(Ra,e)){var t=e,r=Ra[t];fr[t]=r,la(e,{startTime:Na(),duration:r})}Ra=null}}var Xa=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(l({type:e,buffered:!0},r||{})),n}}catch(e){}},Ya={};function Za(e){var t=e.isSuccess,r=e.isLoadend,n=br(r,!1!==r);return{isSuccess:br(t,!1!==n),isLoadend:n}}function eo(e){var t={};if(Wt(e,"toJSON")&&nr(e.toJSON)&&(t=e.toJSON()),!er(t))for(var r in e)ir(["toJSON"],r)||(t[r]=e[r]);return t}function to(e){var t=e.entries,r=e.name,n=e.value,i=Ir(t);if(i){var a=r.toLocaleLowerCase();return fr[a]=n,!Ya[4]&&ir([ye,be],a)&&(Ya[4]=Xa("longtask",(function(e){e.forEach((function(e){if("self"===e.name){var t=e.startTime,r=e.duration-50;if(r>0)for(var n in!fr.isRtTbt&&fr.fcp<=t&&(fr.tbt=(fr.tbt||0)+r),lr)if(Wt(lr,n)){var i=lr[n];i&&i.autoMeasureTBT&&i.markTime<=t&&(i.tbt=(i.tbt||0)+r)}}}))}))),ir([ke],a)&&kr((function(){Ya[4]&&(fr.isRtTbt=!0,la(Ee,{startTime:0,duration:fr.tbt,endTime:zn.currentAbsoluteTime()}))}),1e4),la(a,l(eo(i),{duration:n}))}}var ro=!1;function no(e,t){var r=[];return t.forEach((function(t){var n=t.name,i=e===ne.Nav;if(n&&di(n)&&(i||!pi(n))){if(i){if(ro)return;ro=!0}var a=eo(t);a.type=e,a.name=n;var o=a.startTime;if(a.startTime=Vt(o)?o:0,a.timestamp=zn.currentFixTime(),function(e){var t=e.type,r=e.startTime,n=e.fetchStart,i=e.redirectStart,a=e.redirectEnd,o=e.domainLookupStart,u=e.domainLookupEnd,s=e.connectStart,c=e.secureConnectionStart,l=e.connectEnd,f=e.requestStart,p=e.responseStart,h=e.responseEnd,v=e.workerStart,d=e.transferSize=e.transferSize||0,m=e.encodedBodySize=e.encodedBodySize||0,g=e.decodedBodySize=e.decodedBodySize||0,y=pn(u,o),b=pn(l,s);e.redirectMs=pn(a,i),e.appCacheMs=pn(o,n),e.dnsMs=y,e.tcpMs=b,e.sslMs=pn(l,c,!0),e.ttfb=pn(p,t===ne.Nav?Na():r),e.workerMs=pn(h,v,!0),e.networkMs=pn(h,f),e.downloadMs=pn(h,p),e.fetchMs=pn(h,n),e.stalledMs=Math.max(0,ln(f-n-y-b)),e.headerSize=pn(d,m),e.resBodySize=m>G?g:m,e.resourceSize=g}(a),e===ne.Res&&function(e){var t=e.initiatorType,r=e.responseEnd,n=e.transferSize,i=e.name,a=li(i),o=a.pn,u=a.ps;o&&u&&(pr[o]=l({},pr[o],a),e.namePattern=function(e){if(!e||!Zt(e,ce.Str))return"";var t=vi(e).pathname;try{var r=H.exec(t);if(rr(r)){var n=r[3];if(n)return t.replace(n,n.replace(/\..+\./,"."))}}catch(e){}return t}(i));var s=ki(a);if(e.feBu=s.pn,e.resourceId=s.ps,e.serviceWithStage=s.pv,da.has(i)){var c=da.consume(i);c&&l(e,c,Za(c),{type:c.type||e.type,name:c.api||e.name,resBodySize:c.resBodySize||e.resBodySize})}l(e,Za(e));var f=fi(i);e.isSuccess&&f&&(l(e,function(e){var t=e.transferSize,r=e.encodedBodySize,n=0===t,i=t>0&&(0===r||t<r);return{isLocalCache:n,isValidateCache:i,isCache:n||i}}(e)),e.isCache&&(e.headerSize=n));e.subType=e.subType||f||t||"other",e.endTime=e.endTime||(e.isLoadend?r:zn.currentAbsoluteTime())}(a),i&&function(e){var t=e.type,r=e.unloadEventStart,n=e.unloadEventEnd,i=e.fetchStart,a=e.responseEnd,o=e.domLoading,u=e.domInteractive,s=e.domComplete,c=e.domContentLoadedEventEnd,f=e.loadEventStart,p=e.loadEventEnd;e.unload=pn(n,r),e.tti=pn(c,i),e.parseMs=pn(c,a);var h=o||u;e.processing=pn(s,h),e.ready=pn(c,i),e.resLoadMs=pn(f,c),e.loadMs=pn(p,f),e.load=pn(p,i),e.ttsr=pn(s,i);var v=zn.pagePubMeta,d=v.pn,m=v.ps,g=v.pv;e.feBu=d,e.resourceId=m,e.serviceWithStage=g,e.subType=t,e.isLoadend=!!(f&&p&&e.loadMs),l(e,Za(e)),e.isFP=dr(ge),e.isFCP=dr(ye),e.isLCP=dr(be),e.isReady=dr(Ie),e.endTime=e.isLoadend?p:zn.currentAbsoluteTime()}(a),!1!==a.isSuccess||Ki(n)){var u,s,c=vi(a.name);a.name=c.href,a.nameHost=c.origin,a.namePattern||(a.namePattern=c.pathname),a.url=Ur("href"),a.urlHost=Ur("hostname"),a.duration=a.duration||pn(a.endTime,a.startTime),a.st=(u=a.serverTiming,s={},rr(u)&&u.forEach((function(e){var t=e.name,r=e.description,n=e.duration;t?s[t]=r||ln(n):r&&(s[r]=ln(n))})),s),r.push(ar(a,["workerTiming","serverTiming","api"]))}}})),r}function io(){var e=mi();e&&no(ne.Nav,[e]).forEach(fa)}function ao(e){e.forEach((function(e){if(e&&e.addedNodes)for(var t=e.addedNodes,r=0,n=t.length;r<n;r++){var i=t[r];un(i)&&En(i)}}))}var oo,uo,so,co,lo,fo,po=function(e,t,r){var n,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(n||0))||void 0===n)&&(n=t.value,t.delta=i,e(t))}},ho=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},vo=function(e,t){var r=mi(),n="navigate";return On>=0?n="back-forward-cache":r&&(n=g.prerendering||Na()>0?"prerender":g.wasDiscarded?"restore":r.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:dn(),navigationType:n}},mo=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},go=-1,yo=function(){return"hidden"!==g.visibilityState||g.prerendering?1/0:0},bo=function(e){"hidden"===g.visibilityState&&go>-1&&(go="visibilitychange"===e.type?e.timeStamp:0,ko())},To=function(){T("visibilitychange",bo,!0),T("prerenderingchange",bo,!0)},ko=function(){k("visibilitychange",bo,!0),k("prerenderingchange",bo,!0)},wo=function(){return go<0&&(go=yo(),To(),Pn((function(){kr((function(){go=yo(),To()}),0)}))),{get firstHiddenTime(){return go}}},So=function(e){g.prerendering?T("prerenderingchange",(function(){return e()}),!0):e()},Eo=function(e,t){t=t||{},So((function(){var r,n=wo(),i=vo("FCP"),a=Xa("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-Na(),0),i.entries.push(e),r(!0)))}))}));a&&(r=po(e,i,t.reportAllChanges),Pn((function(n){i=vo("FCP"),r=po(e,i,t.reportAllChanges),ho((function(){i.value=b.now()-n.timeStamp,r(!0)}))})))}))},xo={passive:!0,capture:!0},Ao=new Date,Io=function(e,t){oo||(oo=t,uo=e,so=new Date,Co(k),Mo())},Mo=function(){if(uo>=0&&uo<so-Ao){var e={entryType:"first-input",name:oo.type,target:oo.target,cancelable:oo.cancelable,startTime:oo.timeStamp,processingStart:oo.timeStamp+uo};co.forEach((function(t){t(e)})),co=[]}},_o=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"===e.type?function(e,t){var r=function(){Io(e,t),i()},n=function(){i()},i=function(){k("pointerup",r,xo),k("pointercancel",n,xo)};T("pointerup",r,xo),T("pointercancel",n,xo)}(t,e):Io(t,e)}},Co=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,_o,xo)}))},Ro=function(e,t){t=t||{},So((function(){var r,n=wo(),i=vo("FID"),a=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},o=function(e){e.forEach(a)},u=Xa("first-input",o);r=po(e,i,t.reportAllChanges),u&&ai((function(){o(u.takeRecords()),u.disconnect()}),!0),u&&Pn((function(){var n;i=vo("FID"),r=po(e,i,t.reportAllChanges),co=[],uo=-1,oo=null,Co(T),n=a,co.push(n),Mo()}))}))},Oo=0,Po=1/0,Fo=0,Lo=function(e){e.forEach((function(e){e.interactionId&&(Po=Math.min(Po,e.interactionId),Fo=Math.max(Fo,e.interactionId),Oo=Fo?(Fo-Po)/7+1:0)}))},No=function(){return lo?Oo:b.interactionCount||0},Do=function(){"interactionCount"in b||lo||(lo=Xa("event",Lo,{type:"event",buffered:!0,durationThreshold:0}))},jo=0,zo=function(){return No()-jo},Bo=[],qo={},Uo=function(e){var t=Bo[Bo.length-1],r=qo[e.interactionId];if(r||Bo.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};qo[n.id]=n,Bo.push(n)}Bo.sort((function(e,t){return t.latency-e.latency})),Bo.splice(10).forEach((function(e){delete qo[e.id]}))}},Ho=function(e,t){t=t||{},So((function(){Do();var r,n=vo("INP"),i=function(e){e.forEach((function(e){(e.interactionId&&Uo(e),"first-input"===e.entryType)&&(!Bo.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&Uo(e))}));var t,i=(t=Math.min(Bo.length-1,Math.floor(zo()/50)),Bo[t]);i&&i.latency!==n.value&&(n.value=i.latency,n.entries=i.entries,r())},a=Xa("event",i,{durationThreshold:t.durationThreshold||40});r=po(e,n,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),ai((function(){i(a.takeRecords()),n.value<0&&zo()>0&&(n.value=0,n.entries=[]),r(!0)})),Pn((function(){Bo=[],jo=No(),n=vo("INP"),r=po(e,n,t.reportAllChanges)})))}))},Ko={};function Qo(){var e,t;e=to,t=t||{},So((function(){var r,n=wo(),i=vo("FP"),a=Xa("paint",(function(e){e.forEach((function(e){"first-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-Na(),0),i.entries.push(e),r(!0)))}))}));a&&(r=po(e,i,t.reportAllChanges),Pn((function(n){i=vo("FP"),r=po(e,i,t.reportAllChanges),ho((function(){i.value=b.now()-n.timeStamp,r(!0)}))})))})),Eo(to),function(e,t){t=t||{},So((function(){var r,n=wo(),i=vo("LCP"),a=function(e){var t=e[e.length-1];if(t){var a=Math.max(t.startTime-Na(),0);a<n.firstHiddenTime&&(i.value=a,i.entries=[t],r())}},o=Xa("largest-contentful-paint",a);if(o){r=po(e,i,t.reportAllChanges);var u=mo((function(){Ko[i.id]||(a(o.takeRecords()),o.disconnect(),Ko[i.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){T(e,u,{once:!0,capture:!0})})),ai(u,!0),Pn((function(n){i=vo("LCP"),r=po(e,i,t.reportAllChanges),ho((function(){i.value=performance.now()-n.timeStamp,Ko[i.id]=!0,r(!0)}))}))}}))}(to,{reportAllChanges:!0}),Ro(to),Ho(to),function(e,t){t=t||{},Eo(mo((function(){var r,n=vo("CLS",0),i=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],o=a[a.length-1];i&&e.startTime-o.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e]),i>n.value&&(n.value=i,n.entries=a,r())}}))},u=Xa("layout-shift",o);u&&(r=po(e,n,t.reportAllChanges),ai((function(){o(u.takeRecords()),r(!0)})),Pn((function(){i=0,n=vo("CLS",0),r=po(e,n,t.reportAllChanges),ho((function(){return r()})),setTimeout(r,0)})))})))}(to)}var Go,Vo,Wo=0;function $o(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fo&&(clearTimeout(fo),fo=null);var t=b.getEntriesByType(ne.Res);if(t.length>Wo){var r=t.slice(Wo);Wo+=r.length;var n=no(ne.Res,r);n.forEach(fa)}e&&(fo=kr($o,500))}function Jo(){Hn()&&(Qo(),Xa("element",(function(e){e.forEach((function(e){e.identifier&&la(xe,e)}))})),_n((function(){dr("load")||io()})),ai((function(){!function(){if(!rn(zn.curOptions.getResourcePerformance))return;if(Ya[5]){if(nr(Ya[5].takeRecords)){var e=Ya[5].takeRecords();no(ne.Res,e).forEach(fa)}return}$o(!1)}(),function(){var e,r=ui.timingQueue.list.slice();r.push.apply(r,t(da.pourout()));var n=r.map((function(e){if(e.name)return e;var t=vi(e.api||e.name);return l(l({},e),{name:t.href,nameHost:t.origin,namePattern:t.pathname,url:Ur("href"),urlHost:Ur("hostname")})}));if(n.length<=0)return;(e=ui.timingQueue).replace.apply(e,t(n)),ui.timingQueue.runReportPromptly()}()})))}function Xo(){xn(g);var e=[];for(var t in pr){var r=pr[t];if(t&&!r.pr){var n=ki(r),i=n.pn,a=n.pv;e.push({pn:i,pv:a}),r.pr=!0}}return e}function Yo(e,t){var r=Xo();if(e.length||r.length)return{url:zn.curOptions.perfApiUrl,options:Sr(t),payload:l({resource:e,subApps:r},zn.genMetadata())}}function Zo(){if(zn.getState(oi.Perf))return Br.info(Cr);var e=zn.curOptions,t=e.initPagePerformance,r=e.getAjaxPerformance,n=e.getFetchPerformance;if(rn(t)){if(!zn.getState("isVisitSample"))return Br.info("[Performance Sample]:","The current visit is not in the sampling range!");ui.genTimingQueue({maxDepth:100,autoCloseReport:!1,reporter:Yo,uninstaller:eu}),Un()&&Aa(Qe,ao),Un()&&(Aa(Ke,$a),In((function(){Ra&&Vt(Ra.mtti)||!nr(La)||(La(),La=null),kr(Ja,2e4)})),Mn((function(){return Bn(Ja)}))),rn(zn.curOptions.getResourcePerformance)&&(Hn()?Ya[5]=Xa("resource",(function(e){Bn((function(){no(ne.Res,e).forEach(fa)}))})):(b.onresourcetimingbufferfull=function(){$o(),Br.warn("WARNING: Resource Timing Buffer is FULL!"),b.clearResourceTimings(),Wo=0},fo=kr($o,500))),Jo(),rn(r)&&(nr(Go)||(Go=Gt(E.prototype,"open",(function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this.url=r[1];var i=vi(this.url);return this.api=i.href,pi(this.api)||(this.method=String(r[0]||"GET").toUpperCase(),this.async=br(r[2],!0),this.type=ne.Http,this._uniqueId=dn(),this.unProxyAbort=Gt(this,"abort",(function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.apply(this,r),this.isManualAbort=!0,nr(this.unProxyAbort)&&(this.unProxyAbort(),this.unProxyAbort=null)}}))),e.apply(this,r)}}))),nr(Vo)||(Vo=Gt(E.prototype,"send",(function(e){return function(){for(var t=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if(pi(this.api))return e.apply(this,n);var a=li(this.api),o=a.pn?ki(a):Gi().pubAppInfo,u={type:this.type,subType:"xhr",method:this.method,api:this.api,async:this.async,startTime:zn.currentAbsoluteTime(),timestamp:zn.currentFixTime(),isSuccess:!1,isLoadend:!1,isAborted:!1,isManualAbort:!1,isTimeout:!1,timeout:this.timeout,reqBodySize:gr(n[0]),_uniqueId:this._uniqueId,feBu:o.pn,resourceId:o.ps,serviceWithStage:o.pv},s=zn.getState("isVisitSample");s&&da.push(this.api,u),zn.curOptions.initTraceCollector&&wi(l({eventType:"request"},u));var c=function e(){t.isAborted=!0,t.removeEventListener("abort",e,!0)};this.addEventListener("abort",c,!0);var f=function e(){t.isTimeout=!0,t.removeEventListener("timeout",e,!0)};this.addEventListener("timeout",f,!0);var p=function e(){t.isError=!0,t.removeEventListener("error",e,!0)};this.addEventListener("error",p,!0);var h=function e(r){if(u.endTime=zn.currentAbsoluteTime(),u.isAborted=br(t.isAborted,!1),u.isManualAbort=br(t.isManualAbort,!1),s&&u.isAborted&&!Yr())da.consume(t.api,u.timestamp);else{u.duration=pn(u.endTime,u.startTime),u.statusCode=t.status,u.statusText=t.statusText,u.readyState=t.readyState,u.isTimeout=br(t.isTimeout,!1),u.isError=br(t.isError,!1);var n=u.isAborted||u.isManualAbort;u.isLoadend=!n,u.isSuccess=!u.isError&&!u.isTimeout&&!n&&vr(u.statusCode);var i=Vr(t.getAllResponseHeaders());u.hunterId=i[Me],u.requestId=i[Fe];try{u.resBodySize=r.total||fn(i[Ce],gr(t.responseText)),l(u,$r(t.responseText,i))}catch(e){}s&&zn.emitExclude(u.isSuccess?De.ExApi:De.ExApiErr,u)&&da.consume(t.api,u.timestamp),nr(t.unProxyAbort)&&(t.unProxyAbort(),t.unProxyAbort=null),t.removeEventListener("abort",c,!0),t.removeEventListener("timeout",f,!0),t.removeEventListener("error",p,!0),t.removeEventListener("loadend",e,!0)}};return this.addEventListener("loadend",h,!0),e.apply(this,n)}})))),rn(n)&&function(){if(Vn()&&!nr(Sa)){var e=zn.getState("isVisitSample");Sa=Gt(d,"fetch",(function(t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=_a(n),o=vi(a).href;if(pi(o))return t.apply(d,n);var u=li(o),s=u.pn?ki(u):Gi().pubAppInfo,c={type:ne.Http,subType:"fetch",method:Ma(n),api:o,async:!0,startTime:zn.currentAbsoluteTime(),timestamp:zn.currentFixTime(),isSuccess:!1,isLoadend:!1,isAborted:!1,isManualAbort:!1,reqBodySize:gr(Ca(n)),_uniqueId:dn(),feBu:s.pn,resourceId:s.ps,serviceWithStage:s.pv};return e&&da.push(o,c),zn.curOptions.initTraceCollector&&wi(l({eventType:"request"},c)),t.apply(d,n).then((function(e){var t=e.clone(),r=Wr(t),n=r[Ce];return c.hunterId=r[Me],c.requestId=r[Fe],c.statusCode=t.status,c.isSuccess=br(t.ok,vr(t.status)),c.isLoadend=!0,t.text().then((function(t){return c.resBodySize=fn(n,gr(t)),l(c,$r(t,r)),e})).catch((function(){return c.resBodySize=fn(n,0),e}))})).catch((function(t){var r,i;throw c.statusCode=0,c.statusText=t.message,c.isSuccess=!1,c.isAborted="AbortError"===t.name,c.isLoadend=!c.isAborted,"AbortError"===t.name&&(c.isManualAbort=!!(null===(i=null===(r=n[1])||void 0===r?void 0:r.signal)||void 0===i?void 0:i.aborted),e&&c.isAborted&&!Yr()&&da.consume(o,c.timestamp)),t})).finally((function(){c.endTime=zn.currentAbsoluteTime(),c.duration=pn(c.endTime,c.startTime),e&&zn.emitExclude((c.isSuccess,De.ExApiErr),c)&&da.consume(o,c.timestamp)}))}}))}}(),In((function(){fr.ready=zn.currentAbsoluteTime()})),Mn((function(){fr.load=zn.currentAbsoluteTime(),Bn(io)})),zn.setState(oi.Perf,!0),Br.success(Cr)}}function eu(e){zn.getState(oi.Perf)&&(Ia(Qe),Ia(Ke),ja=!0,nr(Go)&&(Go(),Go=null),nr(Vo)&&(Vo(),Vo=null),nr(Sa)&&(Sa(),Sa=null),Ya[5]&&Ya[5].disconnect(),fo&&(clearTimeout(fo),fo=null),!e&&ui.timingQueue.teardown(),zn.setState(oi.Perf,!1),Br.success("performance collector unloaded!"))}var tu=function(){function e(){u(this,e),this.running=!1,this.belowFps=20,this.blockFpsTimes=3,this.elapsedMs=0,this.elapsedTime=0,this.lastTime=zn.currentAbsoluteTime(2),this.currentFps=0,this.countFps=0,this.avgFps=60,this.lowestFps=60,this.highestFps=0,this.stableFps=60,this.maxFrameDuration=0,this.minFrameDuration=Number.MAX_SAFE_INTEGER,this.firstFrameDuration=0,this.lastFrameDuration=0,this.jank=0,this.stutter=0,this.start()}return c(e,[{key:"start",value:function(){this.running||(this.running=!0,qn(this.tick.bind(this)))}},{key:"stop",value:function(){this.running=!1,this.lastFrameDuration||(this.lastFrameDuration=this.elapsedMs),this.stutter=this.jank/(this.countFps/3)}},{key:"tick",value:function(){var e=zn.currentAbsoluteTime(2);if(this.countFps+=1,this.elapsedMs=e-(this.lastTime||e),this.firstFrameDuration||(this.firstFrameDuration=this.elapsedMs),this.maxFrameDuration=Math.max(this.maxFrameDuration,this.elapsedMs),this.minFrameDuration=Math.min(this.minFrameDuration,this.elapsedMs),this.lastTime=e,this.elapsedTime=this.elapsedMs/1e3,this.elapsedTime){this.currentFps=1/this.elapsedTime,this.currentFps=Math.max(Math.min(this.currentFps,60),0),this.isFpsBlocking(),this.lowestFps=Math.min(this.lowestFps,this.currentFps),this.highestFps=Math.max(this.highestFps,this.currentFps),this.avgFps=(this.countFps*this.avgFps+this.currentFps)/(this.countFps+1);var t=this.countFps%60;0===t&&(this.stableFps=60);var r=t+1;this.stableFps=(r*this.stableFps+this.currentFps)/(r+1)}this.running&&qn(this.tick.bind(this))}},{key:"isFpsBlocking",value:function(){this.currentFps>=this.belowFps?this.resetBlockTime():(this.blockFpsTimes-=1,this.blockFpsTimes<=0&&(this.jank+=1,this.resetBlockTime()))}},{key:"resetBlockTime",value:function(){this.blockFpsTimes=3}},{key:"extractMetrics",value:function(){return{countFps:this.countFps,avgFps:this.avgFps,lowestFps:this.lowestFps,highestFps:this.highestFps,stableFps:this.stableFps,maxFrameDuration:this.maxFrameDuration,minFrameDuration:this.minFrameDuration,firstFrameDuration:this.firstFrameDuration,lastFrameDuration:this.lastFrameDuration,jank:this.jank,stutter:this.stutter}}}]),e}();function ru(){var e=null==b?void 0:b.memory;return{limitHeapSize:(null==e?void 0:e.jsHeapSizeLimit)||0,totalHeapSize:(null==e?void 0:e.totalJSHeapSize)||0,usedHeapSize:(null==e?void 0:e.usedJSHeapSize)||0}}var nu,iu={autoTrack:!1,autoMeasureTBT:!1,autoMeasureFPS:!1};function au(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Kn())return Br.warn(Or);if(lr[e])return Br.warn(Pr("mark"));var r=t.pubAppName||t.feBu,n=r?ki({pn:r}):Gi().pubAppInfo,i=l({tbt:0,feBu:n.pn,resourceId:n.ps,serviceWithStage:n.pv,markTime:zn.currentAbsoluteTime()},iu,t);if(lr[e]=i,i.autoMeasureFPS){var a=new tu;i.fpsMeasurer=a,a.start()}l(i,ru()),b.mark("mark_".concat(e,"_start"))}function ou(e,t){var r;if(!Kn())return Br.warn(Or);if(!lr[e])return Br.warn("There is not a match start mark!");b.mark("mark_".concat(e,"_end"));var n=lr[e];null===(r=n.fpsMeasurer)||void 0===r||r.stop();var i=function(e){b.measure(e,"mark_".concat(e,"_start"),"mark_".concat(e,"_end"));var t=b.getEntriesByName(e).pop();return t&&"measure"===t.entryType?t:null}(e);if(!i)return su(e);var a=ru(),o=n.markTime,u=n.tbt,s=n.totalHeapSize,c=n.usedHeapSize,f=n.feBu,p=n.pubAppName,h=n.autoTrack,v=n.labels,d=n.fpsMeasurer,m=l({},v,t),g=l({tbt:u,elapsedTotalHeapSize:a.totalHeapSize-s,elapsedUsedHeapSize:a.usedHeapSize-c},null==d?void 0:d.extractMetrics());la(Ae,l({markMetrics:g,name:e,startTime:o,feBu:f||p,labels:Xt(m,{defaultValue:"{}"})},eo(i))),h&&ra({eventType:e,data:l({duration:i.duration},g),labels:m,level:ne.Mea}),su(e)}function uu(e,t){kr((function(){ou(e,t)}))}function su(e){var t;null===(t=lr[e].fpsMeasurer)||void 0===t||t.stop(),delete lr[e],b.clearMarks&&(b.clearMarks("mark_".concat(e,"_start")),b.clearMarks("mark_".concat(e,"_end")))}function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(e,"_tbt");au(r,t),nu&&(clearTimeout(nu),nu=null),nu=kr((function(){ou(r)}),2e3)}var lu=null;function fu(){return new Promise((function(e){var t=function(){var e=g.createElement("iframe");return e.hidden=!0,g.head.appendChild(e),[function(){return e},function(){e&&(g.head.removeChild(e),e=null)}]}(),r=n(t,2),i=r[0],a=r[1],o=i().contentWindow,u=o.RTCPeerConnection||o.mozRTCPeerConnection||o.webkitRTCPeerConnection;if(!u)return a(),e("");var s=new u({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}],sdpSemantics:"plan-b"},{optional:[{RtpDataChannels:!0}]});if(!s)return a(),e("");s.createDataChannel("ktr-rtc-channel"),s.createOffer({}).then((function(e){return s.setLocalDescription(e)})).catch((function(e){c()}));var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";s&&(s.close(),s=null),lu&&(d.clearTimeout(lu),lu=null),a(),e(t)},l=function(e){var t=W.exec(e);if(rr(t)){var r=t[0]||t[1];Zt(r,ce.Str)&&!r.match(V)&&c(r)}},f=function(e){if(e)l(e);else{var t=s&&s.localDescription&&s.localDescription.sdp;if(Zt(t,ce.Str))t.split("\n").forEach((function(e){0===e.indexOf("a=candidate:")&&l(e)}));c("")}};s.onicecandidate=function(e){e&&e.candidate&&e.candidate.candidate&&f(e.candidate.candidate)},lu=kr(f,3e3)}))}var pu=24*ln(xr(3,5))*60*60*1e3;function hu(){return h(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Yr()){e.next=2;break}return e.abrupt("return",Promise.resolve(""));case 2:return t="",e.prev=3,e.next=6,fu();case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:return e.abrupt("return",Promise.resolve(t||""));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))}function vu(){return new Promise((function(e){Yn(zn.curOptions.perfApiUrl,"",{useMethod:"OPTIONS",onXhrLoadend:function(t){return function(e,t){var r=zn.currentTime(),n=Vr(e.getAllResponseHeaders()),i=+new Date(n[Re]);if(Vt(i)){var a=r-i;t(Math.abs(a)>=Q?-a:0)}}(t,e)}})}))}function du(){yn.removeItem(D)}function mu(){zn.setState("visitSampleSeed",function(){var e=yn.getItem(D);if(Vt(e))return parseFloat(e);var t=xr();return yn.setItem(D,String(t)),t}()),zn.setState("isVisitSample",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=zn.curOptions,n=zn.genMetadata().userId;return!!(r.userWhiteList&&n&&ir(r.userWhiteList,n))||!!rr(e)&&e[t?"some":"every"]((function(e){return r[He[e]]<=zn.getState("visitSampleSeed")}))}(["visit"])),_n(du)}function gu(e){var t=wa().autoInit;return"auto"!==e||t?zn.getState(oi.Ktr)?Br.warn("ktracker has been initialzed!"):(mu(),function(){h(this,void 0,void 0,o().mark((function e(){var t,r,i,a,u,s,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zn.currentTime(),r=gn.getItem(F),i=er(r)?r:{},Vt(a=i.timestamp)&&Vt(i.timeDiff)&&!(t>=a)){e.next=20;break}return e.prev=5,e.next=8,Promise.allSettled([hu(),vu()]);case 8:u=e.sent,s=n(u,2),c=s[0],l=s[1],"fulfilled"===c.status&&c.value&&(i.clientIp=c.value),"fulfilled"===l.status&&(i.timeDiff=l.value),i.timestamp=t+pu,gn.setItem(F,i),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(5);case 20:zn.setMetadata("clientIp",i.clientIp),zn.setState("serveTimeDiff",i.timeDiff);case 22:case"end":return e.stop()}}),e,null,[[5,18]])})))}(),rn(zn.curOptions.initBizEvent)&&(ui.genActionstatQueue({reporter:Yi(Si.analyseEvent),uninstaller:function(){ra=re}}),ui.genActiontrackQueue({reporter:Yi(Si.event),uninstaller:function(){ea=re,ta=re}})),ba(),Zo(),Ci(),zn.getState(oi.Perf)||ai((function(){var e=Xo();if(e.length)return Zn(zn.curOptions.perfApiUrl,Er(l({resource:[],subApps:e},zn.getMetadata())),Sr({isImmediate:!0,useGzip:!1}))})),Tu((function(e){return ir(ie,e.message)})),zn.setState(oi.Ktr,!0),void Br.primary("Ktracker mounted!")):Br.warn("You need to start Ktracker manually!")}function yu(e){if(d.__G_KTRACKER__)return d.__G_KTRACKER__;nn(gu)(e)}function bu(){var e=zn.getState();e[oi.Ktr]&&(e[oi.Err]&&Ta(),e[oi.Trace]&&Ri(),e[oi.Perf]&&eu(),Br.primary("Ktracker unmounted!"),zn.setState(oi.Ktr,!1))}var Tu=ei(De.ExErr),ku=ei(De.ExApiErr),wu=ei(De.ExApi);var Su=function(){};e.Ktracker=Su,Object.setPrototypeOf(Su,function(){var e=yu("auto");if(e)return e;var t=wa(),r=t.initException,n=t.initPagePerformance,i=t.initBizEvent,a={init:nn(yu),initException:nn(ba),initPagePerformance:nn(Zo),initTraceCollector:nn(Ci),send:te,sendError:nn(ua,r),sendErrorV2:nn(sa,r),sendEvent:nn(ea,i),sendEventV2:nn(ta,i),sendAnalyseEvent:nn(ra,i),startMark:nn(au,n),endMark:nn(ou,n),endPaint:nn(uu,n),clearMark:nn(su,n),markNTBT:nn(cu,n),uninstall:bu,uninstallException:Ta,uninstallTraceCollector:Ri,uninstallPerformance:eu,setExcludeException:Tu,setExcludeApiError:ku,setExcludeApi:wu,setMetadata:zn.setMetadata.bind(zn),deviceId:Sn,userId:Cn(),visitId:bn,pubsub:zn.emitter,ktrTryCatch:ka,pv:te,setKtrackerState:te,generateHunterid:te,checkReportException:te};return d.__G_KTRACKER__=a}())}(this);
